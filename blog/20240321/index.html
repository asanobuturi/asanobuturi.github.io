<!doctype html><html lang=ja><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=description content="qrcodeモジュールを使用してSVG形式のQRコードを生成してみます。"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/scss/styles.min.4a71567d35f0565714f9b264f620dd2c5abcdd3fd6d8bc1fe2bafa8114c2fe47.css><link rel=icon href=/image/favicon.svg type=image/svg+xml><link rel="icon alternate" href=/image/favicon.ico><meta property="og:site_name" content="浅野学園物理部"><meta property="og:url" content="https://asanobuturi.github.io/blog/20240321/index.html"><meta property="og:title" content="PythonでSVGのQRコードを生成する｜浅野学園物理部"><meta property="og:description" content="qrcodeモジュールを使用してSVG形式のQRコードを生成してみます。"><meta property="og:type" content="website"><meta property="og:image" content="https://asanobuturi.github.io/blog/20240321/thumbnail.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@Uchi54_APC"><link rel=canonical href=https://asanobuturi.github.io/blog/20240321/><script async src="https://www.googletagmanager.com/gtag/js?id=G-M4YH1E5WC1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-M4YH1E5WC1")</script><title>PythonでSVGのQRコードを生成する｜浅野学園物理部</title><script type=text/javascript src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<link rel=stylesheet href=/scss/highlight.min.5fd4e02a806db4bd8e63d97db9f23a937f07d0d2478a4e37b851c96e75701cf4.css><link rel=stylesheet href=/scss/article.min.5ee3cae303b380c098ecc9cafc8ef5f27c4e7d9864fa43a00560f808df467ab1.css><link rel=stylesheet href=/scss/tableOfContents.min.603245923695f62c9be0618c1b6a10599acbf0f4f5056ffe631acd014b70fd17.css></head><body><nav id=nav-drawer><input id=nav-input type=checkbox class=nav-unshown>
<label id=nav-open for=nav-input><span class="bar bar1"></span>
<span class="bar bar2"></span>
<span class="bar bar3"></span>
<span class=menu>MENU</span>
<span class=close>CLOSE</span></label>
<label id=nav-close for=nav-input></label><div id=nav-content><a href=/index.html><img loading=lazy src=/image/favicon.svg id=nav-logo alt=浅野学園物理部></a>
<a class=nav-link href=/index.html>ホーム</a>
<a class=nav-link href=/about/index.html>物理部とは</a>
<a class=nav-link href=/document/index.html>部誌</a>
<a class=nav-link href=/game/index.html>ゲーム</a>
<a class="nav-link isActive" href=/blog/index.html>ブログ</a>
<a class=nav-link href=/electronic/index.html>電工の部屋</a><hr><a class=nav-link href=/credit/index.html>クレジット(ライセンス)</a></div></nav><main><div id=content><a name=top></a><div id=breadcrumbs><a href=/index.html><img src=/image/icons/home-solid.svg class=inline-image>ホーム</a>
<img src=/image/icons/angle-right-solid.svg class=inline-image>
<a href=/blog/>ブログ</a>
<img src=/image/icons/angle-right-solid.svg class=inline-image>
<a href=/blog/20240321/>PythonでSVGのQRコードを生成する</a></div><header id=overview><h1 id=title>PythonでSVGのQRコードを生成する</h1><div><div class=properties><p><span class=author><img src=/image/icons/user-edit-solid.svg class=inline-image>
中３　杉本</span>
<span class=tags><img src=/image/icons/tags-solid.svg class="inline-image tag-icon">
<a class=tag href=/blog/tags/mikan-os>mikan os</a></span></p><p class=date><img src=/image/icons/pen-to-square-solid.svg class=inline-image><time datetime=2024-03-09>2024年3月9日</time>
<img src=/image/icons/arrow-rotate-right-solid.svg class=inline-image><time datetime=2024-03-09>2024年3月9日</time></p></div><div class=share><span><a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class=twitter-share-button data-related=Uchi54_apc data-lang=ja data-show-count=false>Tweet</a>
<script async src=https://platform.twitter.com/widgets.js></script></span></div></div></header><article><blockquote><p>Copyright [yyyy] [著作権所有者の名前]</p><p>Apache License Version 2.0（「本ライセンス」）に基づいてライセンスされます。あなたがこのファイルを使用するためには、本ライセンスに従わなければなりません。本ライセンスのコピーは下記の場所から入手できます。</p><p><a href=http://www.apache.org/licenses/LICENSE-2.0>http://www.apache.org/licenses/LICENSE-2.0</a>
適用される法律または書面での同意によって命じられない限り、本ライセンスに基づいて頒布されるソフトウェアは、明示黙示を問わず、いかなる保証も条件もなしに「現状のまま」頒布されます。本ライセンスでの権利と制限を規定した文言については、本ライセンスを参照してください。</p></blockquote><p>春休みになり漸くまとまった時間が取れるようになったので詰まったところなど。</p><ul><li>Windows 11 23H2</li><li>Ubuntu 22.04 on WSL2</li></ul><h2 id=80p-hlt命令が見つからない>80p hlt命令が見つからない</h2><p><code>info registers</code>をしRIPレジスタの値の命令を<code>x /2i 0x3fb73016</code>のように参照すると<code>jmp</code>命令があるとのことだったがあったのは比較命令と<code>je(jump if equal)</code>命令だけであった。je命令は比較命令をジャンプ先に指定していたので無限ループではあったが<code>main.cpp</code>に記述した<code>hlt</code>命令が読めていないということなので解決が必要であった。</p><p><a href=https://github.com/uchan-nos/os-from-zero/issues/140>https://github.com/uchan-nos/os-from-zero/issues/140</a></p><p>ここの最下部に記載のある通りリンカスクリプトを書けば良いとのことでしたので試したらサクッと動いた。しかしこれに応じてリンカスクリプトを参照する設定を<code>Makefile</code>に適宜追記する必要がある。</p><h2 id=ビルドが億劫>ビルドが億劫</h2><p><code>tasks.json</code>を書きましょう。
私は<code>~/workspace/mymikanos</code>下に写経しながら行っているのでパスを適宜変更してください。</p><div class=codeblock><div class=codeblock-name>.vscode/tasks.json</div><div class=codeblock-content><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;version&#34;</span>: <span style=color:#e6db74>&#34;2.0.0&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#f92672>&#34;tasks&#34;</span>: [
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;label&#34;</span>: <span style=color:#e6db74>&#34;make kernel&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;shell&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;command&#34;</span>: <span style=color:#e6db74>&#34;source ~/osbook/devenv/buildenv.sh &amp;&amp; cd ~/workspace/mymikanos/kernel &amp;&amp; make&#34;</span>,
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;label&#34;</span>: <span style=color:#e6db74>&#34;build boot loader&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;shell&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;command&#34;</span>: <span style=color:#e6db74>&#34;cd ~/edk2/ &amp;&amp; source edksetup.sh &amp;&amp; build&#34;</span>,
</span></span><span style=display:flex><span>        },
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;label&#34;</span>: <span style=color:#e6db74>&#34;Run qemu&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;shell&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;command&#34;</span>: <span style=color:#e6db74>&#34;~/osbook/devenv/run_qemu.sh ~/edk2/Build/MikanLoaderX64/DEBUG_CLANG38/X64/Loader.efi ~/workspace/mymikanos/kernel/kernel.elf&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;dependsOrder&#34;</span>: <span style=color:#e6db74>&#34;sequence&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;dependsOn&#34;</span>: [
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;make kernel&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#e6db74>&#34;build boot loader&#34;</span>,
</span></span><span style=display:flex><span>            ],
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;group&#34;</span>: {
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;kind&#34;</span>: <span style=color:#e6db74>&#34;build&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>&#34;isDefault&#34;</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>}</span></span></code></pre></td></tr></table></div></div></div></div><p>しかし以上のプログラムを記述するだけではsudoコマンドに妨害されてしまうので、<code>visudo</code>コマンドを使うなり<code>/etc/sudoers</code>を編集するなりして<code>mkdir</code>,<code>cp</code>,<code>mount</code>,<code>umount</code>の４つを<code>sudo</code>のパスワード要求を外すと快適な<code>Ctrl+Shift+B</code>のみでのビルドを行うことができます。</p><p>私は<code>/etc/sudoers</code>に以下を追記しました。</p><div class=codeblock><div class=codeblock-name>/etc/sudoers</div><div class=codeblock-content><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>ocean ALL=NOPASSWD: /usr/bin/mkdir
</span></span><span style=display:flex><span>ocean ALL=NOPASSWD: /usr/bin/umount
</span></span><span style=display:flex><span>ocean ALL=NOPASSWD: /usr/bin/cp
</span></span><span style=display:flex><span>ocean ALL=NOPASSWD: /usr/bin/mount</span></span></code></pre></td></tr></table></div></div></div></div><h2 id=マウス動かん>マウス動かん</h2><p><code>osbook_day06c</code>を写経してビルドしたところqemu上では動いたが、実機上だと<code>kInvalidSlotID</code>と言われてしまいマウスが動かない。これは困ったのでログレベルを<code>kDebug</code>まで下げログを確認してみる。が、よくわからない上にすぐ流れていってログの全貌が見えないので<code>kernel/console.hpp</code>を編集してコンソールの縦の長さを延ばしてみた。でもわからないので<code>kInvalidSlotID</code>で検索してもいまいち出てこない。</p><p>考えうる原因として、</p><ul><li>PCがxHCIに対応していない</li><li>コードミスってる</li><li>初期のコードが不安定</li><li>PCが悪い</li></ul><h3 id=xhci対応してんの>xHCI対応してんの？</h3><p>検索してみたところLinuxを使っている人は<code>lspci</code>コマンドで調べているようだが、私はUbuntuをインストールするもブートエントリに出てこなかったのでWindowsのデバイスマネージャーで確認することにした。</p><p><img src=xhci.png alt></p><p>が、ある。おそらくxHCIがないことが原因ではないのだろう。まぁ最近(尚第八世代)のPCなので当然かも知れない。</p><h3 id=コードミスってない>コードミスってない？</h3><p><code>git checkout</code>で写経元のコードで<code>make</code>して実行してみたが同じエラーである。コードに誤りはないということだろう。</p><h3 id=初期のコードが不安定なだけで割り込み方式とかにしたら安定しない>初期のコードが不安定なだけで割り込み方式とかにしたら安定しない？</h3><p><a href=https://github.com/uchan-nos/mikanos>GitHub</a>からリリースされたものをダウンロードして起動してみると&mldr;と、お！！！エラーが変わった！！！今度は<code>kNoEnoughMemory</code>エラーと言われてしまった。メモリ56GBあるんだけどな&mldr;などと思いながら検索してみたところジャストの記事が見つかった。<code>kernel/usb/memory.hpp</code>でメモリを確保しているところがあるのでそこで確保するメモリ量を増やせということらしい。ふむふむ。で、増やしてみる。1.0リリースのSHAは<code>11fb1eb</code>なので<code>git checkout 11fb1eb</code>である。小説を後ろから読むような罪悪感に苛まれながらコードを編集し、<code>make</code>。実機で起動するとお！！！動いた！！！！が、キーボード入力しか受け付けずマウスは動かないという状況であった。</p><h3 id=おま環では>おま環では？</h3><p>隣の父のPCで動かしてみたがデスクトップ画面描画後に落ちてしまった。</p><h3 id=真面目にデバッグしてみる>真面目にデバッグしてみる</h3><p>ログも見て真面目にデバッグしようと思う。<a href=#skip1>ログをスキップ</a></p><div class=codeblock><div class=codeblock-name>LogLevel=kDebug</div><div class=codeblock-content><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 48
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 49
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 50
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 51
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 52
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 53
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 59
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 60
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 61
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 62
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 63
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 64
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 65
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 66
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 67
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 68
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 69
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 70
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 71
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 72
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 73
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 74
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 75
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 76
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 77
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 78
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 79
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 80
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 81
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 82
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 83
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 84
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 85
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 86
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 87
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 88
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 89
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 90
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 91
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 92
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 93
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 94
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 95
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 96
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 97
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 98
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 99
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">100
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">101
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">102
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">103
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">104
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">105
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">106
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">107
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">108
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">109
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">110
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">111
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">112
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">113
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>Welcome to MikanOS!
</span></span><span style=display:flex><span>ScanAllBus: kSuccess
</span></span><span style=display:flex><span>0.0.0: vend 8086, class 00000006, head 00
</span></span><span style=display:flex><span>0.1.0: vend 8086, class 04000406, head 81
</span></span><span style=display:flex><span>1.0.0: vend 10de, class 00000003, head 80
</span></span><span style=display:flex><span>1.0.1: vend 10de, class 03000304, head 80
</span></span><span style=display:flex><span>0.2.0: vend 8086, class 00000003, head 00
</span></span><span style=display:flex><span>0.20.0: vend 8086, class 0330030c, head 80
</span></span><span style=display:flex><span>0.20.2: vend 8086, class 80008011, head 00
</span></span><span style=display:flex><span>0.22.0: vend 8086, class 80008007, head 80
</span></span><span style=display:flex><span>0.23.0: vend 8086, class 06010601, head 00
</span></span><span style=display:flex><span>0.27.0: vend 8086, class 04000406, head 81
</span></span><span style=display:flex><span>0.27.2: vend 8086, class 04000406, head 81
</span></span><span style=display:flex><span>3.0.0: vend 8086, class 80008002, head 00
</span></span><span style=display:flex><span>0.27.4: vend 8086, class 04000406, head 81
</span></span><span style=display:flex><span>4.0.0: vend 144d, class 08020801, head 00
</span></span><span style=display:flex><span>0.28.0: vend 8086, class 04000406, head 81
</span></span><span style=display:flex><span>0.28.4: vend 8086, class 04000406, head 81
</span></span><span style=display:flex><span>0.29.0: vend 8086, class 04000406, head 81
</span></span><span style=display:flex><span>7.0.0: vend 144d, class 08020801, head 00
</span></span><span style=display:flex><span>0.31.0: vend 8086, class 01000106, head 80
</span></span><span style=display:flex><span>0.31.2: vend 8086, class 80008005, head 80
</span></span><span style=display:flex><span>0.31.3: vend 8086, class 03000304, head 00
</span></span><span style=display:flex><span>0.31.4: vend 8086, class 0500050c, head 00
</span></span><span style=display:flex><span>0.31.6: vend 8086, class 00000002, head 00
</span></span><span style=display:flex><span>XHC has been found: 0.20.0
</span></span><span style=display:flex><span>ReadBar: kSuccess
</span></span><span style=display:flex><span>XHC mmio_base = df430000
</span></span><span style=display:flex><span>waiting until OS owns xHC...
</span></span><span style=display:flex><span>OS has owned xHC
</span></span><span style=display:flex><span>MaxSlots: 64
</span></span><span style=display:flex><span>scratchpad buffer array 0 = 0x117000
</span></span><span style=display:flex><span>scratchpad buffer array 1 = 0x118000
</span></span><span style=display:flex><span>scratchpad buffer array 2 = 0x119000
</span></span><span style=display:flex><span>scratchpad buffer array 3 = 0x11a000
</span></span><span style=display:flex><span>scratchpad buffer array 4 = 0x11b000
</span></span><span style=display:flex><span>scratchpad buffer array 5 = 0x11c000
</span></span><span style=display:flex><span>scratchpad buffer array 6 = 0x11d000
</span></span><span style=display:flex><span>scratchpad buffer array 7 = 0x11e000
</span></span><span style=display:flex><span>scratchpad buffer array 8 = 0x11f000
</span></span><span style=display:flex><span>scratchpad buffer array 9 = 0x120000
</span></span><span style=display:flex><span>scratchpad buffer array 10 = 0x121000
</span></span><span style=display:flex><span>scratchpad buffer array 11 = 0x122000
</span></span><span style=display:flex><span>scratchpad buffer array 12 = 0x123000
</span></span><span style=display:flex><span>scratchpad buffer array 13 = 0x124000
</span></span><span style=display:flex><span>scratchpad buffer array 14 = 0x125000
</span></span><span style=display:flex><span>scratchpad buffer array 15 = 0x126000
</span></span><span style=display:flex><span>scratchpad buffer array 16 = 0x127000
</span></span><span style=display:flex><span>scratchpad buffer array 17 = 0x128000
</span></span><span style=display:flex><span>scratchpad buffer array 18 = 0x129000
</span></span><span style=display:flex><span>scratchpad buffer array 19 = 0x12a000
</span></span><span style=display:flex><span>scratchpad buffer array 20 = 0x12b000
</span></span><span style=display:flex><span>scratchpad buffer array 21 = 0x12c000
</span></span><span style=display:flex><span>scratchpad buffer array 22 = 0x12d000
</span></span><span style=display:flex><span>scratchpad buffer array 23 = 0x12e000
</span></span><span style=display:flex><span>scratchpad buffer array 24 = 0x12f000
</span></span><span style=display:flex><span>scratchpad buffer array 25 = 0x130000
</span></span><span style=display:flex><span>scratchpad buffer array 26 = 0x131000
</span></span><span style=display:flex><span>scratchpad buffer array 27 = 0x132000
</span></span><span style=display:flex><span>scratchpad buffer array 28 = 0x133000
</span></span><span style=display:flex><span>scratchpad buffer array 29 = 0x134000
</span></span><span style=display:flex><span>scratchpad buffer array 30 = 0x135000
</span></span><span style=display:flex><span>scratchpad buffer array 31 = 0x0
</span></span><span style=display:flex><span>scratchpad buffer array 32 = 0x0
</span></span><span style=display:flex><span>scratchpad buffer array 33 = 0x0
</span></span><span style=display:flex><span>wrote scratchpad buffer array 0x116100 to dev ctx array 0
</span></span><span style=display:flex><span>xhc.Initialize: kNoEnough Memory
</span></span><span style=display:flex><span>XHC starting
</span></span><span style=display:flex><span>Port 1: IsConnected=0
</span></span><span style=display:flex><span>Port 2: IsConnected=0
</span></span><span style=display:flex><span>Port 3: IsConnected=0
</span></span><span style=display:flex><span>Port 4: IsConnected=0
</span></span><span style=display:flex><span>Port 5: IsConnected=0
</span></span><span style=display:flex><span>Port 6: IsConnected=0
</span></span><span style=display:flex><span>Port 7: IsConnected=0
</span></span><span style=display:flex><span>Port 8: IsConnected=0
</span></span><span style=display:flex><span>Port 9: IsConnected=0
</span></span><span style=display:flex><span>Port 10: IsConnected=0
</span></span><span style=display:flex><span>Port 11: IsConnected=0
</span></span><span style=display:flex><span>Port 12: IsConnected=0
</span></span><span style=display:flex><span>Port 13: IsConnected=0
</span></span><span style=display:flex><span>Port 14: IsConnected=0
</span></span><span style=display:flex><span>Port 15: IsConnected=0
</span></span><span style=display:flex><span>Port 16: IsConnected=0
</span></span><span style=display:flex><span>Port 17: IsConnected=0
</span></span><span style=display:flex><span>Port 18: IsConnected=0
</span></span><span style=display:flex><span>Port 19: IsConnected=0
</span></span><span style=display:flex><span>Port 20: IsConnected=0
</span></span><span style=display:flex><span>Port 21: IsConnected=0
</span></span><span style=display:flex><span>Port 22: IsConnected=0
</span></span><span style=display:flex><span>Port 23: IsConnected=0
</span></span><span style=display:flex><span>Port 24: IsConnected=0
</span></span><span style=display:flex><span>Port 25: IsConnected=0
</span></span><span style=display:flex><span>Port 26: IsConnected=0
</span></span><span style=display:flex><span>PortStatusChangeEvent: port_id = 4
</span></span><span style=display:flex><span>EnableSlot: port.IsEnabled() = true, port.IsPortResetChanged() = true
</span></span><span style=display:flex><span>PortStatusChangeEvent: port_id = 5
</span></span><span style=display:flex><span>Error while ProcessEvent: kInvalidPhase at usb/xhci/xhci.cpp:205
</span></span><span style=display:flex><span>PortStatusChangeEvent: port_id = 7
</span></span><span style=display:flex><span>Error while ProcessEvent: kInvalidPhase at usb/xhci/xhci.cpp:205
</span></span><span style=display:flex><span>PortStatusChangeEvent: port id = 8
</span></span><span style=display:flex><span>Error while ProcessEvent: kInvalidPhase at usb/xhci/xhci.cpp:205
</span></span><span style=display:flex><span>PortStatusChangeEvent: port_id = 9
</span></span><span style=display:flex><span>Error while ProcessEvent: kInvalidPhase at usb/xhci/xhci.cpp:205
</span></span><span style=display:flex><span>PortStatusChangeEvent: port_id = 10
</span></span><span style=display:flex><span>Error while ProcessEvent: kInvalidPhase at usb/xhci/xhci.cpp:205
</span></span><span style=display:flex><span>PortStatusChangeEvent: port_id = 17
</span></span><span style=display:flex><span>Error while ProcessEvent: kInvalidPhase at usb/xhci/xhci.cpp:205
</span></span><span style=display:flex><span>PortStatusChangeEvent: port_id = 4
</span></span><span style=display:flex><span>Error while ProcessEvent: kInvalidPhase at usb/xhci/xhci.cpp:205
</span></span><span style=display:flex><span>CommandCompletionEvent: slot_id = 1, issuer = Enable Slot Command
</span></span><span style=display:flex><span>addressbevice: port_id = 4, slot_id = 1
</span></span><span style=display:flex><span>Error while ProcessEvent: InvalidSlotID at usb/xhci/xhci.cpp:138</span></span></code></pre></td></tr></table></div></div></div></div><p><span id=skip1></span></p><p>こんな感じのエラーが出ている。</p><p>30行目近辺から見るにxHCがない！ということではないので安心した。メインPCで動かないOSとか嫌すぎる。</p><p>問題とされている<code>usb/xhci/xhci.cpp:205</code>の前後は<code>OnEvent</code>関数である。ポートが繋がれているなら<code>EnableSlot</code>、ポートが繋がれていないなら<code>ResetPort</code>を呼び出す関数のようだ。上のログを見る限りポート番号4番が一度成功しているようだが109-110行目で失敗しているようにも見える。よくわからない。すべて205行目ということは498行目の<code>err = OnEvent(xhc, *trb);</code>で呼び出されているようだ。</p><p>19行目のエラーは<code>AddressDevice</code>中に<code>xhc</code>にスロット番号でデバイスを探させるも<code>nullptr</code>が帰ってきているからエラーを投げているようだ。ふむふむ。</p><p>写真を二枚に分けていたので上の方のログを見ていたらなんとこちらでも<code>kNoEnoughMemory</code>エラーが出ているではないか。前回と同じ方法でメモリを増やしてビルドしてみる。</p><div class=codeblock><div class=codeblock-name>LogLevel=kDebug</div><div class=codeblock-content><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>xhc.Initialize: kSuccess
</span></span><span style=display:flex><span>xHC starting
</span></span><span style=display:flex><span>Port 1: IsConnected=0
</span></span><span style=display:flex><span>Port 2: IsConnected=0
</span></span><span style=display:flex><span>Port 4: IsConnected=0
</span></span><span style=display:flex><span>Port 5: IsConnected=0
</span></span><span style=display:flex><span>Port 6: IsConnected=0
</span></span><span style=display:flex><span>Port 7: IsConnected=0
</span></span><span style=display:flex><span>Port 8: IsConnected=0
</span></span><span style=display:flex><span>Port 9: IsConnected=0
</span></span><span style=display:flex><span>Port 10: IsConnected=0
</span></span><span style=display:flex><span>Port 11: IsConnected-0
</span></span><span style=display:flex><span>Port 12: IsConnected=0
</span></span><span style=display:flex><span>Port 13: IsConnected=0
</span></span><span style=display:flex><span>Port 14: IsConnected-0
</span></span><span style=display:flex><span>Port 15: IsConnected=0
</span></span><span style=display:flex><span>Port 16: IsConnected=0
</span></span><span style=display:flex><span>Port 17: IsConnected=0
</span></span><span style=display:flex><span>Port 18: IsConnected=0
</span></span><span style=display:flex><span>Port 19: IsConnected=0
</span></span><span style=display:flex><span>Port 20: IsConnected-0
</span></span><span style=display:flex><span>Port 21: IsConnected-0
</span></span><span style=display:flex><span>Port 22: IsConnected-0
</span></span><span style=display:flex><span>Port 23: IsConnected=0
</span></span><span style=display:flex><span>Port 24: IsConnected=0
</span></span><span style=display:flex><span>Port 25: IsConnected=0
</span></span><span style=display:flex><span>Port 26: IsConnected=0
</span></span><span style=display:flex><span>PortStatusChangeEvent: port_id = 4
</span></span><span style=display:flex><span>ResetPort: port.IsConnected() = true
</span></span><span style=display:flex><span>PortStatusChangeEvent: port_id = 5
</span></span><span style=display:flex><span>ResetPort: port.IsConnected() = true
</span></span><span style=display:flex><span>PortStatusChangeEvent: port_id = 7
</span></span><span style=display:flex><span>ResetPort: port.IsConnected() = true
</span></span><span style=display:flex><span>PortStatusChangeEvent: port_id = 8
</span></span><span style=display:flex><span>ResetPort: port.IsConnected() = true
</span></span><span style=display:flex><span>PortStatusChangeEvent: port_id = 9
</span></span><span style=display:flex><span>ResetPort: port.IsConnected() = true
</span></span><span style=display:flex><span>PortStatusChangeEvent: port_id = 10
</span></span><span style=display:flex><span>ResetPort: port.IsConnected() = true
</span></span><span style=display:flex><span>PortStatusChangeEvent: port_id = 4
</span></span><span style=display:flex><span>EnableSlot: port.IsEnabled = true, port.IsPortResetChanged() = true
</span></span><span style=display:flex><span>CommandCompletionEvent: slot_id = 1, issuer = Enable Slot Command
</span></span><span style=display:flex><span>AddressDevice: port_id = 4, slot_id = 1
</span></span><span style=display:flex><span>Error while ProcessEvent: kInvalidSlotID at usb/xhci/xhci.cpp:138
</span></span><span style=display:flex><span>PortStatusChangeEvent: port_id = 17
</span></span><span style=display:flex><span>ResetPort: port.IsConnected() = true</span></span></code></pre></td></tr></table></div></div></div></div><p>こんどは<code>xhc.Initialize</code>が成功しているし、205行目のエラーも解決されている。が、<code>AddressDevice</code>の際にポート4番で失敗しているようだ。<code>xhc</code>関係はさっぱりピーマンなので全くわからない。前述の通りスロット番号で探す関数<code>FindBySlot</code>が<code>nullptr</code>を返しているのが問題のようだ。<code>FindBySlot</code>の中身を見てみるとこのような簡潔な関数になっている。</p><div class=codeblock><div class=codeblock-content><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">54
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">55
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">56
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">57
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">58
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">59
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span>Device<span style=color:#f92672>*</span> DeviceManager<span style=color:#f92672>::</span>FindBySlot(<span style=color:#66d9ef>uint8_t</span> slot_id) <span style=color:#66d9ef>const</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (slot_id <span style=color:#f92672>&gt;</span> max_slots_) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nullptr</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> devices_[slot_id];
</span></span><span style=display:flex><span>}</span></span></code></pre></td></tr></table></div></div></div></div><p>これぐらいならデバッグする気も起きるってもんだ。ログを見るに<code>slot_id</code>は<code>1</code>&mldr;それが<code>max_slots_</code>より多いから&mldr;1より小さい！？？！？負の数ではない(よね)はずだから絶対に0じゃん。<code>max_slots_</code>の起源を探ると<code>DeviceManager</code>のインスタンスを作る際に渡されるようだ。VSCodeの機能を使って<code>DeviceManager</code>がreferされているところを探すと&mldr;あれ？インスタンスどこで作られているんだ？となってしまいました。どこにもDeviceManager(0)みたいな分かりやすいことが書いてありません。C++素人のワタシにはキツイ話です。</p><p>だるさに襲われながらVSCodeをポチポチしてたら出てきました。<code>Initialize</code>。<code>kernel/usb/xhci/xhci.cpp</code>の325行目でした。ふむ、ここでは<code>kDeviceSize</code>を引数に渡していますね。これはなに由来なのかと思うと<code>kDeviceSize</code>は定数のようで<code>8</code>と定義されていました。</p><div style=text-align:center>？？？</div><p><code>1>8</code>&mldr;ってｺﾄ!?</p><p>そんな訳はないので<code>Log</code>でデバッグしてみます。イヤ～^便利だ<code>Log</code>。Pythonみたいな感覚で適当に<code>FindBySlot</code>関数のはじめに<code>Log(kDebug, "slot_id: %d, max_slots_: %d", slot_id, max_slots_);</code>と挿入しておきました。さぁどうなる。</p><div class=codeblock><div class=codeblock-name>LogLevel=kDebug</div><div class=codeblock-content><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>slot_id: 1, max_slots_: 8</span></span></code></pre></td></tr></table></div></div></div></div><p>うおーーーーん</p><p>泣いてばかりいられません、つまり普通に<code>devices_[slot_id]</code>の部分で限界突破している可能性を考える。<code>devices_</code>の更新は<code>kernel/usb/xhci/devmgr.cpp</code>の10行目にあった。<code>AllocArray</code>は<code>size_t num_obj, unsigned int alignment, unsigned int boundary</code>と引数を取るようです。と、下に見ていったら21行目以降で<code>devices_</code>はすべて<code>nullptr</code>で初期化されていた。つまり<code>FindBySlot</code>君は悪くないということだ。よかったな、<code>FindBySlot</code>君。無罪放免。</p><p>今までのことから<code>devices_</code>の更新処理がうまく行っていないことが問題のようだ。<code>devices[n]</code>に代入されている箇所を探したら同ファイルの72行目から始まる<code>AllocDevice</code>関数が行っているようだ。ここを見ると<code>devices_[n]</code>にはまた<code>AllocArray</code>が格納されるようだ。２次元配列ってことですかね。見る限りこの関数は絶対に代入をするようなのでこの関数が呼ばれていないことが問題らしい。Pythonならざつに<code>print</code>するところですが再起動が面倒なのでもう少し調査してみる。<code>AllocDevice</code>はどこで呼ばれているのかと思ったらエラーの行から四行前のところでした。たしかに呼ばれています。うーーん益々わからん。</p><p>VSCodeくんが<code>devices_[n]</code>に<code>new</code>するところでエラーを吐いている。VSCodeのエラーはだいたい今まで踏み倒してきたのだが今回ばかりは向き合ってみようと思う。<code>new</code>のリファレンスを除いてみたところ確保できない際に<code>nullptr</code>を返すそうだ。動的確保ができない&mldr;ってｺﾄ!?調べてみたところ確保ができなかった場合に<code>nullptr</code>を返す記法だそう。12へぇ。じゃあ<code>if</code>で<code>nullptr</code>か試してみることにしたが、<code>nullptr</code>ではなかった。</p><p><code>AllocArray</code>を見ていたら確保できなかった場合にこれも<code>nullptr</code>を返すそうだ。試してみる(n回目)。</p><p>試してみた。<code>nullptr</code>であった。<code>AllocArray</code>くんは<code>sizeof(Device)*num_obj</code>のメモリ確保をやらせるらしいので<code>num_obj</code>に<code>1</code>を渡している今回では<code>Device</code>１個分のメモリを確保するようです。<code>sizeof(Device)</code>を見てみてると<code>3520byte</code>(qemu上)のようです。二回出たので二回確保するということでしょう。今回は<code>(4096 * 64)byte</code>確保しているので足りないはずはないだ。でも<code>nullptr</code>が返ってくることに変わりないので<code>kMemoryPoolSize</code>を馬鹿みたいに増やすことにしたら、またエラーが変わった。今度は<code>kTransferFailed</code>であった。<code>kTransferFailed</code>でググると以下のページが出てきた。</p><p><a href=https://github.com/uchan-nos/os-from-zero/wiki/rintositenaioda%3B->https://github.com/uchan-nos/os-from-zero/wiki/rintositenaioda%3B-</a>マウスを動かすとBabbleError</p><p><code>kernel/usb/classdriver/mouse.cpp</code>の10行目の値をイイ感じにすればいいらしいです。ほう。興味本位で<code>kernel/usb/classdriver/keyboard.cpp</code>の方を覗いてみると値が異なったのでここがキーボードは動くがマウスは動かないという症状の原因だったのかもしれません。結構解決まで近くなった気がします。</p><hr><p>3ヶ月後&mldr;</p><p>エー、試験やら模試やらで完全にこの本を忘れていた。長い間触れていなかったからか前の環境に拘りもなくなっていたので<code>Ubuntu 20.04</code>で<code>mikanos.git</code>落としてビルドしてみたらキーボードだけ動いた。一歩前進。
ログを取ってみたらBabble Errorらしい。あれ？見たぞこの文字。</p><p>もう一度その記事を見るとLogicoolでも確認された事象らしい・・・私は所詮MSのドライバの庇護下にあった人間というわけか&mldr;トホホ。マウスを変えてやってみる。</p><h2 id=licence>LICENCE</h2><div class=codeblock><div class=codeblock-content><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>Copyright 2018-2022 Kota Uchida
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Licensed under the Apache License, Version 2.0 (the &#34;License&#34;);
</span></span><span style=display:flex><span>you may not use this file except in compliance with the License.
</span></span><span style=display:flex><span>You may obtain a copy of the License at
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    http://www.apache.org/licenses/LICENSE-2.0
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Unless required by applicable law or agreed to in writing, software
</span></span><span style=display:flex><span>distributed under the License is distributed on an &#34;AS IS&#34; BASIS,
</span></span><span style=display:flex><span>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
</span></span><span style=display:flex><span>See the License for the specific language governing permissions and
</span></span><span style=display:flex><span>limitations under the License.</span></span></code></pre></td></tr></table></div></div></div></div></article><span class=next>次へ<a href=https://asanobuturi.github.io/blog/20240309/>PythonでSVGのQRコードを生成する＞</a></span><br><span class=prev>前へ<a href=https://asanobuturi.github.io/blog/20230313/>T-STEAM:Pro 2022 総合、競技部門で優勝しました＞</a></span></div><aside id=sidebar><nav id=sidemenu><div class=side-back><a href=../index.html>記事の一覧へもどる<img src=/image/icons/sign-out-alt-solid.svg class=inline-image></a></div><div class=side-next><a href=https://asanobuturi.github.io/blog/20240309/><img src=/image/icons/angle-left-solid.svg class=inline-image>PythonでSVGのQRコードを生成する</a></div><div class=side-prev><a href=https://asanobuturi.github.io/blog/20230313/>T-STEAM:Pro 2022 総合、競技部門で優勝しました<img src=/image/icons/angle-right-solid.svg class=inline-image></a></div></nav><section id=indexblock><header class=indextitle>目次</header><nav id=TableOfContents><ul><li><a href=#80p-hlt命令が見つからない>80p hlt命令が見つからない</a></li><li><a href=#ビルドが億劫>ビルドが億劫</a></li><li><a href=#マウス動かん>マウス動かん</a><ul><li><a href=#xhci対応してんの>xHCI対応してんの？</a></li><li><a href=#コードミスってない>コードミスってない？</a></li><li><a href=#初期のコードが不安定なだけで割り込み方式とかにしたら安定しない>初期のコードが不安定なだけで割り込み方式とかにしたら安定しない？</a></li><li><a href=#おま環では>おま環では？</a></li><li><a href=#真面目にデバッグしてみる>真面目にデバッグしてみる</a></li></ul></li><li><a href=#licence>LICENCE</a></li></ul></nav></section></aside></main><footer id=footer><div class=section><nav class=grid><div><label class=headline>CONTENT</label><ul><li><a href=/>Home</a></li><li><a href=/document/>Docs</a></li><li><a href=/game/>Games</a></li><li><a href=/blog/>Blog</a></li><li><a href=/electronic/>Electronic</a></li></ul></div><div><label class=headline>CONTACT</label><ul><li><a target=_blank href=https://x.com/Uchi54_apc>X</a></li><li><a target=_blank href=https://github.com/asanobuturi>GitHub Organization</a></li><li><a target=_blank href=https://github.com/asanobuturi/asanobuturi.github.io>Repository</a></li><li><a target=_blank href=https://github.com/asanobuturi/asanobuturi.github.io/issues>Issues</a></li></ul></div><div><label class=headline>ABOUT</label><ul><li><a href=/about/>About Us</a></li></ul></div></nav></div><hr><div class=section><p class=copyright>Copyright &copy; 2015 - 2023 Asano Physics Club, All Rights Reversed.</p><nav class=sns><a target=_blank href=https://twitter.com/Uchi54_apc><svg xmlns="http://www.w3.org/2000/svg" fill="currentcolor" viewBox="0 0 248 204"><path d="M221.95 51.29c.15 2.17.15 4.34.15 6.53.0 66.73-50.8 143.69-143.69 143.69v-.04c-27.44.04-54.31-7.82-77.41-22.64 3.99.48 8 .72 12.02.73 22.74.02 44.83-7.61 62.72-21.66-21.61-.41-40.56-14.5-47.18-35.07 7.57 1.46 15.37 1.16 22.8-.87-23.56-4.76-40.51-25.46-40.51-49.5v-.64c7.02 3.91 14.88 6.08 22.92 6.32C11.58 63.31 4.74 33.79 18.14 10.71c25.64 31.55 63.47 50.73 104.08 52.76-4.07-17.54 1.49-35.92 14.61-48.25 20.34-19.12 52.33-18.14 71.45 2.19 11.31-2.23 22.15-6.38 32.07-12.26-3.77 11.69-11.66 21.62-22.2 27.93 10.01-1.18 19.79-3.86 29-7.95-6.78 10.16-15.32 19.01-25.2 26.16z"/></svg></a><a target=_blank href=https://github.com/asanobuturi><svg class="w-5 h-5" fill="currentcolor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483.0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951.0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65.0.0.84-.27 2.75 1.026A9.564 9.564.0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688.0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855.0 1.338-.012 2.419-.012 2.747.0.268.18.58.688.482A10.019 10.019.0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"/></a></nav></div></footer></body></html>