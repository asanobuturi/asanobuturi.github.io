<!doctype html><html lang=ja><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=description content="中2から一貫してコイルガンの開発に努めてきた部長が、引退前にそのすべてを語ります。部品の選定や回路の選択を始め、完成品に至る経緯を徹底的に紹介。"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/scss/styles.min.4a71567d35f0565714f9b264f620dd2c5abcdd3fd6d8bc1fe2bafa8114c2fe47.css><link rel=icon href=/image/favicon.svg type=image/svg+xml><link rel="icon alternate" href=/image/favicon.ico><meta property="og:site_name" content="浅野学園物理部"><meta property="og:url" content="https://asanobuturi.github.io/document/2021/9/index.html"><meta property="og:title" content="コイルガン 四年間のすべて｜浅野学園物理部"><meta property="og:description" content="中2から一貫してコイルガンの開発に努めてきた部長が、引退前にそのすべてを語ります。部品の選定や回路の選択を始め、完成品に至る経緯を徹底的に紹介。"><meta property="og:type" content="website"><meta property="og:image" content="https://asanobuturi.github.io/document/2021/9/thumbnail.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@Uchi54_APC"><link rel=canonical href=https://asanobuturi.github.io/document/2021/9/><script async src="https://www.googletagmanager.com/gtag/js?id=G-M4YH1E5WC1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-M4YH1E5WC1")</script><title>コイルガン 四年間のすべて｜浅野学園物理部</title><script type=text/javascript src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<link rel=stylesheet href=/scss/highlight.min.c5f9986cbac7f1d16220f3ed9643a5d09dd8514bcf4c241371ea08a63117bebe.css><link rel=stylesheet href=/scss/article.min.58005843518ab34e9699d58032bdb678690910f8d0baa0324d592cc1a248a7dc.css><link rel=stylesheet href=/scss/tableOfContents.min.603245923695f62c9be0618c1b6a10599acbf0f4f5056ffe631acd014b70fd17.css></head><body><nav id=nav-drawer><input id=nav-input type=checkbox class=nav-unshown>
<label id=nav-open for=nav-input><span class="bar bar1"></span>
<span class="bar bar2"></span>
<span class="bar bar3"></span>
<span class=menu>MENU</span>
<span class=close>CLOSE</span></label>
<label id=nav-close for=nav-input></label><div id=nav-content><a href=/index.html><img loading=lazy src=/image/favicon.svg id=nav-logo alt=浅野学園物理部></a>
<a class=nav-link href=/index.html>ホーム</a>
<a class=nav-link href=/about/index.html>物理部とは</a>
<a class="nav-link isActive" href=/document/index.html>部誌</a>
<a class=nav-link href=/game/index.html>ゲーム</a>
<a class=nav-link href=/blog/index.html>ブログ</a>
<a class=nav-link href=/electronic/index.html>電工の部屋</a><hr><a class=nav-link href=/credit/index.html>クレジット(ライセンス)</a></div></nav><main><div id=content><a name=top></a><div id=breadcrumbs><a href=/index.html><img src=/image/icons/home-solid.svg class=inline-image>ホーム</a>
<img src=/image/icons/angle-right-solid.svg class=inline-image>
<a href=/document/>部誌</a>
<img src=/image/icons/angle-right-solid.svg class=inline-image>
<a href=/document/2021/>2021年度・部誌</a>
<img src=/image/icons/angle-right-solid.svg class=inline-image>
<a href=/document/2021/9/>コイルガン 四年間のすべて</a></div><header id=overview><h1 id=title>コイルガン 四年間のすべて</h1><div><div class=properties><span class=author><img src=/image/icons/user-edit-solid.svg class=inline-image>
部長(高2)</span></div><div class=share><span><a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class=twitter-share-button data-related=Uchi54_apc data-lang=ja data-show-count=false>Tweet</a>
<script async src=https://platform.twitter.com/widgets.js></script></span></div></div></header><article><p>お久しぶりです。そうでない方もお久しぶりです。高二になってしまった部長です。前回部誌を寄稿してから早二年、今でもバカの一つ覚えみたいにコイルガンを作り続けているわけですが、その間いろいろありましたね。「いろいろ」の中身はあえて触れませんが。</p><h2 id=ただのコイルガン>ただのコイルガン？</h2><p>コイルガン…なんて漠然と言ったところで、人によって色んなやり方があります。電源、昇圧回路、コンデンサ、スイッチング素子、コイルの段数、コイルの巻き。どんな理由で何を選んだか、そこに焦点を当てて解説します。</p><h3 id=電源>電源</h3><p>コイルガンはEML(Electro Magnetic Launcher)の一種で、その名の通り電気を使って金属製の弾を発射するものです。電気を使うということは当然電源が必要で、その電源をどうするかも人によって様々です。</p><p>一番簡単(に思える)のは、コンセントのAC100V電源をブリッジダイオードで整流して、コンデンサで平滑した後にそのままコイルに流す方法でしょうか。ただこれはコンセントからコンデンサの間にトランスを挟まないといけないという欠点があります。(なぜかはググってください) いや、少し言い方が雑でした。実を言うとACアダプタにもトランスは入っていますし、トランスを挟むことそのものが欠点になるわけではないのです。そう、<strong>50~60Hz用の大きくて重いトランスを挟むこと</strong>が欠点なのです。 今のACアダプタはスイッチング回路を使って相当小さく、軽くなっています。半導体技術の賜物ですね。このスイッチング回路を一から自作するのは大変ですし、コイルガンの機能の肝になるわけではないので市販のACアダプタで済ませることにしました。 また電池駆動も考えたのですが、乾電池は一瞬で無くなってランニングコストが相当高く付きそうなのと、eneloopなどの乾電池型の充電池も容量が少ないので交換の手間がありますし、かといってニッケル水素電池やリチウムイオン電池を組み込んで、充電制御回路まで作るのも面倒です。幸い僕が製作で使う物理教室にはあちこちにコンセントがありますし、文化祭の展示の時はコイルガン用に電源タップを用意すればいいですからね。</p><p>さてACアダプタと一口に言っても電圧、電流、電源容量と色んな種類のものがあります。 これをおざなりにすると痛い目に遭います。何て言ったって中2の文化祭で充電が異様に遅かったのはそのせいでしたから。 例えば電源容量(平たく言うとW数です)の小さいものを選ぶと、電力量は電圧と電流の積ですから、高電圧を扱うコイルガンでは引き出せる電流量が極端に少なくなってしまいます。5V2AのACアダプタで100Vのコンデンサを充電する、ぐらいなら待ち時間も気にならないぐらいだとは思いますが、今回のコイルガンは400V2720μF(後述)を10秒ぐらいで充電したいので、あんまり電源容量の少ないやつでは困ります。売ってる中で一番大きいやつがいいですね。</p><p>電源容量が大きければ何でもいいわけではありません。極端な話0.1V500Aだったりすると困るわけです。例えば半導体の耐電流は電圧に関わらず絶対的な電流で決まります。今回はなるべく大きくして電流を小さくする方針で行きます。仮に電圧が高すぎるなら抵抗で分圧すればいいのに比べて(電流消費が小さい場合に限りますが)、低すぎるから昇圧するのは色々面倒ですし。 結果電圧は15V前後にすることにしました。これは昇圧回路で使うNE555(後述)というICの耐圧が16Vだからです。16VのACアダプタもあるのですが、電源電圧でギリギリを攻めるのはさすがに怖すぎます。</p><p>また取り回しも重要です。先述の通り物理教室はあちこちにコンセントがありますが、かといってコンセントから全く動けないのは困ります。ですからできればPC用のACアダプタぐらいの大きさで、ATX電源のような大きいものは使わないことにしました。</p><p>この「なるべく電源容量の大きなもの、でもPC用のACアダプタぐらいの大きさで」という条件を元に、秋葉原の秋月電子で探してみたところ、15V 3.34Aがちょうどよさそうですね。何でよりにもよって3.34Aなのかは知りませんが。<br>(<a href=https://akizukidenshi.com/catalog/g/gM-08432/>https://akizukidenshi.com/catalog/g/gM-08432/</a>) これで電源については解決です。</p><h3 id=昇圧チョッパ>昇圧チョッパ</h3><p>コイルガンの肝となる部分の一つが昇圧チョッパです。「高速充電」や「連射」など、使いやすいコイルガンを作るにはここの改良が不可欠です。</p><p>これだけ言っておきながら、昇圧チョッパに関してはほとんど改良点がありません。本当はネットで色々調べたり、どこを改良するか構想も描いていたのですが、何しろ時間がなくて…。基本も大事だということでお許しください。</p><p>さて、一番簡単にやろうとするなら使い捨てカメラの(ストロボの)昇圧回路にコンデンサを繋げるのがいいのでしょうか。確かに簡単ではあるのですが、当然欠点も多くあります。</p><p>まず一つは性能が低いことです。ストロボの消費電力はコイルガンと比べてかなり少ない(はず)なので、回路もかなり簡素です。これでは充電に相当時間が掛かるでしょう。</p><p>二つ目、これが一番大きいのですが、僕にわざわざ写真店に行って「回収した使い捨てカメラ、いくつか頂けませんか」なんて言う度胸がないことです。「コイルガンに…」なんて言ったところで相手にとっては意味不明ですし、そこまでして性能の低いものを集めに行く必要はありません。</p><p>また昇圧チョッパ単体で市販品があればいいのですが、コイルガン用なんてものは当然なく、そもそも昇圧チョッパ自体がマイナーなんです。降圧はPCやスマホ用にICもたくさんあるのですが…。 ICレベルなら昇圧チョッパもあるのでしょうが、だからといって「400Vまで耐えられて、数A出せる」ものは調達も難しいでしょう。ここに関しては使い捨てカメラを諦めるなら自作しかありません。</p><p>自作するにはまず昇圧チョッパの原理を理解しないといけません。 昇圧チョッパは次のような回路構成になっています。</p><p><img src=./Inked昇圧チョッパ.jpg style=width:100%></p><h4 id=スイッチon時>スイッチON時</h4><p>まずスイッチQ1がONのとき、電流は赤線の経路で流れます。 このとき、コイルに電流が流れるとエネルギーが次第に蓄えられていきます。電流I[A]が流れるリアクトルL[H]に蓄えられるエネルギーP[J]は次式で示されます。</p>$$ W = \frac {1}{2} LI^2 $$<h4 id=スイッチoff時>スイッチOFF時</h4><p>ここでスイッチQ1をOFFにしてみましょう。スイッチQ1がOFFのとき、電流は青線の経路で流れます。 このとき、Q1がON状態のうちにインダクタに貯まったエネルギーが矢印の通りにコンデンサに蓄えられます。コンデンサの両端に電流が流れればエネルギーもその分蓄えられ、両端の電圧も上昇していきます。 また出力電圧(=コンデンサの電圧)Voutが入力電圧Vinより大きくなったとしても、ダイオードD1の働きでVout側から電流が流れ出ることはないので、負荷抵抗を繋がない限りコンデンサに蓄えられたエネルギーは保持されます。</p><p>こうしてコイルガンに必要な数百V、今回は400Vの電圧が得られるわけです。ちなみに、今回は主に執筆時間の関係で説明が相当雑ですが、数式を交えた詳細な解説はネット上にたくさんあるので、気になった方はぜひ調べてみてください。</p><h4 id=スイッチを切り替える>スイッチ」を「切り替える」</h4><p>さて、問題はこの先にあります。先ほどの解説ではスイッチを「理想的な」、つまり電圧電流の制限もなく、ON時の電気抵抗はゼロで、一瞬でON-OFFの切り替えができて、なおかつ制御が不要なものとして扱っていました。 現実的にそんなものがあるかどうかなど言うまでもないでしょう。ありません。 そこでこの「理想的な」スイッチの代わりに何か使えそうなものを用意しないといけません。</p><p>「スイッチ」と漠然というと多くの方はこの「トグルスイッチ」を思い浮かべるでしょう。確かにこれもスイッチの役割を果たせますし、扱う電流が小さければ全く問題はありません。射撃用のトリガーなどはこれを使っていますし。</p><p>ただし、昇圧チョッパの「スイッチ」となると話は違います。まずは電圧です。 回路構成からもわかるとおり、このスイッチには出力電圧がそのまま掛かります。今回は400Vですね。一応スイッチそのものの耐圧の条件は満たせるはずですが、問題はそこではありません。</p><p>出力電圧がそのまま掛かって、なおかつスイッチON時の電流を見てみると、このとき電源-インダクタ-スイッチで閉回路ができるわけですが、この回路かなり大きな電流が流れます。 具体的には…これはインダクタの定数なども考慮して色々計算してやる必要があるのですが、結局のところACアダプタの最大電流程度になりそうです。勘ですけど。</p><p>また、「スイッチ」を「切り替える」速度も問題です。 先ほど「スイッチON時インダクタにエネルギーが貯まり、スイッチOFF時それが放出される」ことを述べましたが、これはすなわち「インダクタにどれほどエネルギーが貯められればいいか」はスイッチがONの時間、すなわちスイッチのON-OFFが切り替わる周期に依存することになります。</p><p>「インダクタにどれほどエネルギーが貯められればいいか」というのはインダクタの定格電流のことです。当然ながら定格電流の大きなインダクタは大きく、重くなります。 なるべく回路は小型化したいので、インダクタも例外ではありません。 スイッチング周期を短くしてインダクタを小型化しましょう。</p><p>(今後は数値として扱いやすい一秒間の振動数、つまり周波数f[Hz]で解説していきます。周波数fは次式で求められます。)</p>$$ f[Hz] = \frac {1}{T[s]} $$<p>さて、スイッチング周期を短く、つまり周波数を高くするにあたって大きな制約が立ちはだかります。それは「スイッチ」です。 具体的に今回はスイッチング周期を10kHz程度にしたいのですが、周期にすると1/10000秒です。こんな早さでトグルスイッチのON-OFFを切り替えられる人はいるのでしょうか。 もし我こそは！という方がいらっしゃいましたらお近くの物理部員までお声かけください。詳しくお話を伺います。</p><p>それはさておき、トグルスイッチではない、少なくとも人間が1/10000秒の周期で切り替えずに済むようなスイッチを選びたいところです。</p><h4 id=どんなスイッチ>どんな「スイッチ」？</h4><p>答えから言ってしまうと、この用途にはトランジスタなどの半導体スイッチが最適です。</p><p>半導体スイッチはモノによっては数百V、数十Aぐらいなら軽く耐えられますし、ON-OFFの切り替えにあたって機械接点に由来するアークなども出ません。 そして何よりも、電子回路によってON-OFFの制御ができるのです。これが最大の利点でしょう。</p><p>半導体スイッチにもいくつか種類があり、代表的なものはバイポーラトランジスタ、接合型電界効果トランジスタ(J-FET)、金属酸化膜半導体電界効果トランジスタ(MOSFET)、絶縁ゲートバイポーラトランジスタ(IGBT)、サイリスタ、トラアック(サイリスタの亜種)などがあります。このうちサイリスタやトライアックは今回の用途には使えないほか、J-FETは大電力用途のものがあまりないので、必然的に選択肢は残りの三つに絞られます。</p><p>先ほど挙げた、いわば「トランジスタ系」の三つを比較するうえで重要なのは「耐電圧」「ON抵抗」「ゲート電圧(MOSFET,IGBTのみ)」「ゲート容量(MOSFET,IGBTのみ」の四つです。 耐電圧は読んで字のごとく素子が耐えられる最大電圧、ON抵抗とは素子がON状態の時の電気抵抗で、これは電力損失や発熱に関わります。 またゲート電圧は…平たくいえばONにするために必要な電圧です。ここではそれだけで十分です。最後にゲート容量。これもここでは「素子のONしにくさ」を表すものだと考えてください。 これらのトランジスタは一長一短で、ありきたりな言い方ですが用途に合ったものを選ぶのが大切です。</p><p>これを踏まえた上で各素子の特徴を以下の表に示します。</p><table><thead><tr class=header><th>素子</th><th>耐電圧</th><th>ON抵抗</th><th>ゲート電圧</th><th>ゲート容量</th><th>個人的な扱いやすさ</th></tr></thead><tbody><tr class=odd><td>BJT</td><td>~300V</td><td>高め</td><td>0.6V</td><td>考慮せず</td><td>◎</td></tr><tr class=even><td>MOSFET</td><td>~600V</td><td>低め</td><td>5V前後</td><td>小さめ</td><td>○</td></tr><tr class=odd><td>IGBT</td><td>~1000V</td><td>中程度?</td><td>15V前後</td><td>大きめ</td><td>△</td></tr></tbody></table><p>このうち、今回の出力電圧は400Vを予定しているのでBJTは選択肢から外れます。またON抵抗も大きいのでその分熱問題も厄介です。</p><p>そうなるとMOSFETとIGBTの二択となるのですが、今回はMOSFETで困る用途ではないのでMOSFETを選択しました。当然IGBTでも問題はありません。</p><p>…というのは<strong>嘘です。</strong></p><p>何を隠そう、最初はMOSFETを使うつもりだったのですが、実際に製作するときにIGBTを間違えて実装してしまいました。MOSFETとIGBT、役割も性質もそれなりに似ているが故の間違いでした。</p><p>ただ回路自体は問題なく動作したのでそのままにすることにしました。もちろん全ての回路で互換性があることを保証しているわけではありませんよ。今回たまたま動いただけです。</p><h5 id=ゲート駆動>ゲート駆動</h5><p>先ほど「半導体スイッチは電子回路でON-OFFが制御できる」と述べました。逆に言えば電子回路なしでは何もできません。手で動かしたりももちろんできません。 そこで必要になるのが発振回路です。</p><p>今回はNE555でPWM信号を生成して、それをプッシュプル回路で電流増幅したのちゲートを駆動することにしました。意味不明ですね。もう少し詳しく解説します。</p><h6 id=pwmとは>PWMとは？</h6><p>あまり長々と説明しても話が逸れてしまうだけなので、ざっくりと言うと「昇圧チョッパを駆動するには、PWMがいい」のです。 そのPWMもざっくりと言うと「周波数は一定のまま、ONとOFFの比率を調整する」ものです。 PWMはトランジスタや抵抗などから、一から作ることもできますし、オペアンプなども選択肢の一つではありますが今回はNE555という有名なICを使うことにしました。 NE555でPWMを生成する回路は下図の通りです。 (回路図) NE555の内部回路の説明はNE555のデータシートに譲りますが、外部については少し解説します。</p><p>図中の6,7番ピンに接続されている可変抵抗と2番ピンに接続されている(フィルム)コンデンサで発振周波数を決定します。 以下に発振周波数との関係を示します。(データシートから引用)</p><p><img src=./コンデンサ容量対発振周波数.png style=width:100%></p><p>発振周波数は今回可聴域の範囲で決定しました。発振周波数が可聴域の範囲にあると、ゲート駆動回路で半導体スイッチを駆動して、実際にインダクタに流れる電流が変化すると発振周波数で音が出ます。いや、どの周波数でも音は出ているのですが、それが聞こえるのが可聴域だけなのです。(定義からして当たり前なのですが…)</p><p>よってこうすることで「コイルから音が出ていれば、昇圧回路が正常に動いている」ということがわかるようになるのです。</p><h5 id=プッシュプル回路>プッシュプル回路</h5><p><img src=./Inked昇圧チョッパ.jpg style=width:100%></p><p>プッシュプル回路は上の回路図の点線の部分です。</p><p>NE555は実際に見てみるとわかるのですが、かなり小ぶりなICです。このICで大電力用のMOSFETを駆動するのは少し不安があります。何となくの予想ですが。</p><p>そこでこのプッシュプル回路の出番です。 プッシュプル回路はpnpトランジスタとnpnトランジスタをそれぞれ電源側とGND側に、出力にエミッタが繋がるように配置します。 言葉で説明しても意味不明なので、昇圧回路全体の回路図を参照してください。</p><p>プッシュプル回路の(電圧)増幅率は<strong>1</strong>で、電流の吸い込みも吐き出しもインピーダンスの低いトランジスタのエミッタ側なので結果的に電流増幅になって…</p><p>自分で説明しても眠くなってきたので、細かい説明は僕の2019年の部誌「基礎からはじめるトランジスタ」に少しだけあります。(宣伝)<br>(<a href=https://asanobuturi.github.io/document/2019/transistor/index.html>https://asanobuturi.github.io/document/2019/transistor/index.html</a>)<br>とにかく「電流を供給する能力を上げる」とだけ理解しておいてください。</p><p>これで昇圧回路の解説は終わりです。</p><h2 id=単段-or-not-単段>単段 or not 単段</h2><p>単段だのnot 単段だの、一体何の話でしょう？ とその前に、なぜ「単段」ではいけないのかについてお話しします。</p><p>コイルガンは、その動作原理からもわかるように電力を継続的に、平均的に消費し続けるのではなく、一瞬のうちに大電力を消費し、消費しきった後は一切何も起こらないというよくある電子機器とは全く違う動作をします。(当然外部から見れば昇圧回路で電力を継続的に消費しているのですが、ここではあくまで内部のコンデンサの電荷の消費の話です)</p><p>当然威力を増そうとするならコイルを太く、巻き数を多く、コンデンサ電圧を高く、弾を大きく、など何もかも重厚長大にせざるを得ません。本当に「何もかも」なのです。 そして部品の価格や扱いやすさは必ずしも性能に比例しません。いや、逆にきれいに比例することなんてほとんどありません。 ならば最も価格と性能のバランスがとれた部品、つまりコスパの良い部品を使うのが最も賢いやり方でしょう。</p><p>コイルガンの威力を増すのには、部品単体の性能を上げる他にもう一つ方法があります。部品を複数使うのです。 そのために生まれた工夫こそが多段式なのです。</p><p>多段式コイルガンは、その名の通り複数のコイルを用意して弾が通過した順番に一段目から電流を流していくものです。 この多段式コイルガンは単段式より比較的簡単に威力と効率を上げることができます。</p><p>多段式の射撃ではコイルへ通電するタイミングが最も重要になります。 一段目は自分の裁量で打つか打たないか決めるとして、二段目以降はどのタイミングで電流を流せばいいのでしょうか。もちろん感覚でやるわけではありません。これこそが次の射撃制御です。</p><h2 id=射撃制御>射撃制御</h2><p>先ほど述べた通り、多段式コイルガンに付きものの問題は「射撃タイミングをどうとるか」です。これに関しては僕の知る限り二通りの方法があります。<br>一つはマイコンで一段目のコイルに電流を流してから、一定の間隔をおいて二段目以降にも電流を流す方法です。<br>僕はマイコンに関する知識が皆無で、なおかつ次の方式がマイコンよりも確実だと思ったので、この方法は採用しませんでした。 もう一つは赤外線センサを使って弾の位置を検知し、二段目以降のコイルに弾が差し掛かったところで通電する方法です。</p><p>赤外線センサというのは、つまり赤外線を使って弾などを検知すればいいわけですが、これは赤外線LEDと赤外線用のフォトトランジスタを使って実現しています。 赤外線LEDは通電すると赤外線を発します。そしてフォトトランジスタは光を感知すると電流を流す部品です。トランジスタ、というのはトランジスタのゲートが光で反応するようになった振る舞いをするからです。</p><p>検知回路の回路図を下に示します。</p><p><img src=./検出回路2.jpg style=width:100%></p><p>この検知回路の出力をそのまま主回路のIGBTに繋げるわけではありません。ゲートドライバ回路が必要になります。 ゲートドライバ回路の解説の前にまずは射撃回路の説明から。(名前紛らわしいですね)</p><h2 id=回生というより>4.回生…というより</h2><p>射撃回路もコイルガンの肝になる部分の一つです。射撃回路の半導体スイッチをONにして、コンデンサとコイルを接続して通電します。 ここで、一番単純な回路を下に示します。</p><p><img src=./基本射撃回路.jpg style=width:100%></p><p>これにも問題点がいくつかあります。</p><p>まず、スイッチをOFFにした時にコイルに流れている電流の逃げ場がないことです。コイルは通電するとエネルギーを蓄えますが、逆に言うと電源から電流の供給がなくなってもしばらくは蓄えたエネルギーで電流を流し続けようとします。細かい説明は省きますが電流の変化を持っているエネルギーで邪魔しようとするのです。</p><p>コイルの両端電圧を求める式を以下に示します。</p>$$ V(t) = L \frac {di(t)}{Dt} $$<p>これ、つまるところは電流の微分なんです。<br>そして考えてみましょう。コイルに電流が流れていて、エネルギーもそれなりに蓄えた状態で急に電流を止めたらどうなるか。<br>正解は「負方向に高電圧が発生する」です。高電圧といっても、普段コイルガンで扱うレベルのものではないかもしれません。(実際にやろうとしたことはないのでわかりませんが…) 大抵の半導体素子は正方向にはそれなりに電圧に耐えられても、負方向はかなり脆弱であることがほとんどです。LEDが最たる例ですね。 ですからこのような事態は望ましくありません。ではどうするか。</p><p>こうしてやればいいでしょう。</p><p><img src=./改良型射撃回路.jpg style=width:100%></p><p>コイルの両端を短絡させるようにダイオードを接続します。ここで重要なのが、このダイオードが電源とは逆方向に接続してあること。この回路に通電してからスイッチをOFFにすると、コイルとダイオードだけで回路ができて、そこにコイルの余ったエネルギーから来た電流が流れ続けます。コイルといっても理想的な「コイル」ではなく電気抵抗などもありますから、そのうち電流はゼロになります。ここまでの過程で高電圧は発生しません。</p><p>ただしこの回路にも問題点があります。それは「電流がゼロになるまでが遅い」ことです。<br>コイルガンにおいて、スイッチをOFFにした後の電流は邪魔でしかありません。コイルに通電した時、金属製の弾に対しては中央に引っ張る方向に力が働きます。ここで弾がコイルの真ん中に差し掛かったところでスイッチをOFFにするとして、この回路だと電流がゼロになるまで時間が掛かるので、かなりの時間弾の進行方向とは逆向き、つまり進んでいる弾を引っ張る向きに力が働くことになります。 これは結構まずいことです。ただでさえ低いコイルガンの効率を更に下げてしまう大きな要因になります。</p><p>そこで考え出されたのがこの回生回路です。原理は簡単。回路図中の二つのスイッチは同時に操作します。<br>スイッチがONの時、他の射撃回路と同様にコイルに電流が流れます。続いてスイッチをOFFにすると、コイルは電流の変化を妨げようとしますから、電流は今まで流れていた方向に流れます。すると、図中のダイオードD1,D2を介して電流がコンデンサに流れていきます。コンデンサには電流が流れると電荷が貯まります。純粋なコイルの電力ロスで電流を減らしていた時と比べて、すぐ電流がゼロになります。</p><p><img src=./回生型射撃回路.jpg style=width:100%></p><p>ここまで偉そうに解説しておいて、実はこれネットで見つけた回路図なんです。<br>このぽんずさんという方です。よくこんな回路思いつくなぁとつくづく思います。ありがとうございました。<br>(<a href=https://pons.blog.jp/archives/82618265.html>https://pons.blog.jp/archives/82618265.html</a>)</p><h2 id=安全装置>安全装置</h2><p>コイルガンの製作において、こんな状況に遭遇することは一度や二度ではないはずです。「コンデンサに充電したはいいけど、射撃回路が動かないから放電できない」ことです。手っ取り早いのは、ノコギリやドライバーなど、持ち手が絶縁されている(ように見える)金属製の工具でショートさせてやることでしょうか。確かに簡単ですし、何ならSNS映えはするのですがやる側はたまったもんじゃありません。ショートした時に出る音と光、またやり方が悪いと感電する可能性もありますし、ただただ単純に怖いです。周りも音と光で驚かせてしまいます。余談ですが、以前この手順で放電したら、この音に驚いて後輩が悲鳴を上げた動画が半ばミーム化しているぐらいですから。</p><p>そこで、こんなちょっとした回路を追加してみることにしました。<br>「大きめのスイッチと抵抗を繋いで、スイッチをONにするとコンデンサの電荷が抵抗を介して放電される」回路です。 放電に際して音や火花が散るのは困るので、抵抗値をそこそこ大きめにして放電時の電流を小さくする必要があります。また電力量自体は電圧が大きいので必然的に大きくなりますから、それも考慮して選ばないといけません。<br>今回はたまたま昔使っていた10kΩ 50Wのメタルクラッド抵抗(セメントで巻き線を固めた後、金属の放熱板を取り付けた抵抗)が部活にあったので、それとこれまた部活にあった大きめのスイッチを組み合わせてみました。<br>結果は大成功。仮に射撃回路が不調でも安全に電荷を放電させることが出来るようになりました。</p><h2 id=コイルと弾丸>コイルと弾丸</h2><p>コイルは今回一番工夫したところです。コイルガンと言いつつもここの改良をしている人は中々見かけません。<br>コイルガンのコイルといえば、一番メジャーなやり方は外径10mmぐらいのアクリルパイプに、直径0.5mmぐらいのUEW(ポリウレタン導線、エナメル線の一種ではんだごてで被覆が融ける)をきつく巻き付けることでしょう。 確かにそれでも相当な威力が出ますし、僕も去年まではそのやり方だったのですが、アクリルパイプって意外と折れやすいんですよね。力を掛けて巻こうとするとポキッと折れてしまいます。コイルを数段分、数時間掛けて巻いたところで中のパイプが折れたら一からやり直しです。 それからアクリルパイプの外径が10mmなら、大抵アクリルの厚みが1mmなので内径は8mmです。その8mmにぴったり合う弾丸が用意しづらいのです。例えばホームセンターで売っている釘で一番太いのが直径5mm前後。(記憶が曖昧ですが…) 内径8mmのアクリルパイプと比べても3mmすき間があることになります。それにコイルを巻いてある面は外径10mmですから5mmもすき間があります。当然弾を中で動かさないといけませんから、若干の遊びが必要だとしても3mmは多すぎます。それにコイルを巻いてある面は外径10mmですから5mmもすき間があります。これではエネルギー効率も悲惨なことになってしまいます。<br>そこでまずは弾丸を選んでからコイルの内径を決めることにしました。弾丸として最も代表的なのは釘でしょう。ホームセンターで釘を買ってきてから頭を落とすと、先端の尖った立派な弾丸のできあがりです。 ただ先述の通り太さに限界があるのと、頭を落とす作業が意外と面倒なのが欠点です。弾数が少ないと撃つ度に弾を拾いに行かないといけませんし、文化祭の展示でそれはやりたくないですね。<br>次に考えたのが鉄の丸棒です。鉄製で中身の詰まった棒です。ただ切断が面倒なのには変わりありませんし、何しろホームセンターに取り扱いがないのです。おそらく錆びやすいからで、通販では買えそうなのですがこれは最終手段ということにしておきました。</p><p>他に何かないかとホームセンターの釘が置いてあるあたりをずっと回っていたら…ありました。「平行ピン」です。鉄の丸棒を短く切断して切り口の角を落とした形をしていて、本来は穴同士の位置合わせなどに使うそうです。 ホームセンターに取り扱いのある平行ピンは外径5mmと6mmでした。従ってコイルの内径も5mm~6mm程度にしないといけません。 色々考えた結果、弾丸の平行ピンを5mm、コイルの内径を6mmとして1mm遊びを持たせることにしました。後はコイルについて決めるだけです。</p><h2 id=アクリルかアルミか>アクリルかアルミか</h2><p>先述の通り最もメジャーなのはアクリルパイプに導線を巻いていく方法です。今回は内径が6mmですから、これにアクリルの板厚を考慮して外径を決めることになります。 ただアクリルパイプの板厚は薄くとも1mmのものしか見かけません。 では素材を変えればいいのでは？そう思って色々調べてみたのですが、例えばアルミパイプでやると強度的には安心ですが、渦電流の影響が気になります。渦電流とは…ここでは割愛します。結局は電力ロスです。<br>アクリルもだめ、アルミもだめ、(他の金属も同じ理由でなし)じゃあどうする？僕が出した答えは「芯をなくす」ことでした。</p><p>芯をなくすとしても、じゃあ何に巻けばいいのでしょうか。 そう、最初は強い素材の芯に巻いて、そのあと中身の芯を抜けばいいのです。…と簡単には言いましたが、後から考えればこれが地獄の始まりだったような気もします。</p><h2 id=接着剤>接着剤</h2><p>空心コイルを作るうえで不可欠なのが接着剤などでコイルを固定すること。通常のコイルは芯にきつく導線を巻くことで形を保っていますが、空心コイルにはそれがありません。そしてその接着剤の使い方や種類でも色々と試行錯誤しました。<br>まず試したのは、「コイルをきつく巻いてから接着剤で固める」ことを一層ずつ繰り返すことでした。ただし、すぐに致命的な欠点も見つかりました。なんとせっかく作ったコイルが引き抜けないのです！これではいくら頑張って巻いても使い物になりません。 まず疑ったのはコイルを成型するための接着剤がコイルを巻いたステンレスパイプに付いてしまったのではないか、ということでした。対策として、ステンレスパイプの上に紙を巻いて、仮にその紙と導線が固着しても紙とパイプの間が滑って引き抜けるようにしました。 ただこの対策をしたところでコイルが抜けないのは変わらず、結局結論は「コイルをきつく巻きすぎている」ことでした。 その後まず一層目を特にゆるめに巻いて、一層目の段階でそれなりに自由に動かせることを確認してから二層目以降も少しゆるめに巻いていく…という方法にしました。 結果はそれなりに成功と言えるのでしょうか。目標の全長8cm15層まで巻くとさすがに少しきつくなってしまいますが、それでも全く抜けないわけじゃありません。</p><h2 id=筐体>筐体</h2><p>おととしや去年のコイルガンは筐体と呼ぶこと自体が疑わしくなるほど手を抜いてしまいました。動作そのものには関係ないですからね。 ただ筐体がないと自分でも感電しそうで怖いので、今年はさすがに少しだけ手を掛けることにしました。<br>まずは大まかな構造と材質からです。 去年の筐体は二枚の1mmのアクリル板をスペーサーで繋ぎ合わせた構造だったのですが、まずアクリル板が薄すぎてたわんでしまったのが反省点でした。さらに基板の取り付けをグルーガンで済ませたり配線もその場で適当に考えたりと…結果、よくわからない理由で動きませんでした。<br>その反省を活かし、今年はアクリル板の厚さを5mmに、また基板などの取り付けもネジでできるようにしました。去年5mmにしなかったのはPカッターで切れるかどうか心配だったからなのですが、試しにやってみたらいけたので問題ありません。</p><h2 id=総評>総評</h2><p>ページ数や時間の制約上、画像が少なくて少々雑な説明になったり射撃回路のゲート駆動回路の説明を飛ばしていたりしたのですが、もう締め切りなのでこれで一旦終わりとします。また気が向いたら加筆するので乞うご期待。 そして色々語っておきながら、執筆時点(10/7)ではまだ組み立て終わっていないんですよね。まぁさすがにできていると信じましょう。それではみなさん、物理部展丼2021をお楽しみください！</p><p><img src=./設計資料.jpg style=width:100%></p><p><img src=./設計資料2.jpg style=width:100%></p></article><span class=next>次へ<a href=https://asanobuturi.github.io/document/2021/10/>自作コンパイラを実装してみた＞</a></span><br><span class=prev>前へ<a href=https://asanobuturi.github.io/document/2021/8/>理想と現実の界面で＞</a></span></div><aside id=sidebar><nav id=sidemenu><div class=side-back><a href=../index.html>記事の一覧へもどる<img src=/image/icons/sign-out-alt-solid.svg class=inline-image></a></div><div class=side-prev><a href=https://asanobuturi.github.io/document/2021/8/><img src=/image/icons/angle-left-solid.svg class=inline-image>理想と現実の界面で</a></div><div class=side-next><a href=https://asanobuturi.github.io/document/2021/10/>自作コンパイラを実装してみた<img src=/image/icons/angle-right-solid.svg class=inline-image></a></div></nav><section id=indexblock><header class=indextitle>目次</header><nav id=TableOfContents><ul><li><a href=#ただのコイルガン>ただのコイルガン？</a><ul><li><a href=#電源>電源</a></li><li><a href=#昇圧チョッパ>昇圧チョッパ</a></li></ul></li><li><a href=#単段-or-not-単段>単段 or not 単段</a></li><li><a href=#射撃制御>射撃制御</a></li><li><a href=#安全装置>安全装置</a></li><li><a href=#コイルと弾丸>コイルと弾丸</a></li><li><a href=#アクリルかアルミか>アクリルかアルミか</a></li><li><a href=#接着剤>接着剤</a></li><li><a href=#筐体>筐体</a></li><li><a href=#総評>総評</a></li></ul></nav></section></aside></main><footer id=footer><div class=section><nav class=grid><div><label class=headline>CONTENT</label><ul><li><a href=/>Home</a></li><li><a href=/document/>Docs</a></li><li><a href=/game/>Games</a></li><li><a href=/blog/>Blog</a></li><li><a href=/electronic/>Electronic</a></li></ul></div><div><label class=headline>CONTACT</label><ul><li><a target=_blank href=https://twitter.com/Uchi54_apc>Twitter</a></li><li><a target=_blank href=https://github.com/asanobuturi>GitHub Organization</a></li><li><a target=_blank href=https://github.com/asanobuturi/asanobuturi.github.io>Repository</a></li><li><a target=_blank href=https://github.com/asanobuturi/asanobuturi.github.io/issues>Issues</a></li></ul></div><div><label class=headline>ABOUT</label><ul><li><a href=/about/>About Us</a></li></ul></div></nav></div><hr><div class=section><p class=copyright>Copyright &copy; 2015 - 2023 Asano Physics Club, All Rights Reversed.</p><nav class=sns><a target=_blank href=https://twitter.com/Uchi54_apc><svg xmlns="http://www.w3.org/2000/svg" fill="currentcolor" viewBox="0 0 248 204"><path d="M221.95 51.29c.15 2.17.15 4.34.15 6.53.0 66.73-50.8 143.69-143.69 143.69v-.04c-27.44.04-54.31-7.82-77.41-22.64 3.99.48 8 .72 12.02.73 22.74.02 44.83-7.61 62.72-21.66-21.61-.41-40.56-14.5-47.18-35.07 7.57 1.46 15.37 1.16 22.8-.87-23.56-4.76-40.51-25.46-40.51-49.5v-.64c7.02 3.91 14.88 6.08 22.92 6.32C11.58 63.31 4.74 33.79 18.14 10.71c25.64 31.55 63.47 50.73 104.08 52.76-4.07-17.54 1.49-35.92 14.61-48.25 20.34-19.12 52.33-18.14 71.45 2.19 11.31-2.23 22.15-6.38 32.07-12.26-3.77 11.69-11.66 21.62-22.2 27.93 10.01-1.18 19.79-3.86 29-7.95-6.78 10.16-15.32 19.01-25.2 26.16z"/></svg></a><a target=_blank href=https://github.com/asanobuturi><svg class="w-5 h-5" fill="currentcolor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483.0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951.0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65.0.0.84-.27 2.75 1.026A9.564 9.564.0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688.0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855.0 1.338-.012 2.419-.012 2.747.0.268.18.58.688.482A10.019 10.019.0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"/></a></nav></div></footer></body></html>