<!doctype html><html lang=ja><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=description content="文化祭で展示されたフォークリフトロボットの製作記"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/scss/styles.min.4a71567d35f0565714f9b264f620dd2c5abcdd3fd6d8bc1fe2bafa8114c2fe47.css><link rel=icon href=/image/favicon.svg type=image/svg+xml><link rel="icon alternate" href=/image/favicon.ico><meta property="og:site_name" content="浅野学園物理部"><meta property="og:url" content="https://asanobuturi.github.io/document/2002/1/index.html"><meta property="og:title" content="フォークリフト製作記｜浅野学園物理部"><meta property="og:description" content="文化祭で展示されたフォークリフトロボットの製作記"><meta property="og:type" content="website"><meta property="og:image" content="https://asanobuturi.github.io/document/2002/1/thumbnail.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@Uchi54_APC"><link rel=canonical href=https://asanobuturi.github.io/document/2002/1/><script async src="https://www.googletagmanager.com/gtag/js?id=G-M4YH1E5WC1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag("js",new Date());gtag("config","G-M4YH1E5WC1");</script><title>フォークリフト製作記｜浅野学園物理部</title><script type=text/javascript src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><link rel=stylesheet href=/scss/highlight.min.9b4082acf90ec245e99e303a9e09c0a4ffa77b9754c98965a6bdb067c39e9c14.css><link rel=stylesheet href=/scss/article.min.5ab46a9154b676996cd1867b86fa75a6f6dfd4cf58534c093b363ff6739f3f03.css><link rel=stylesheet href=/scss/tableOfContents.min.603245923695f62c9be0618c1b6a10599acbf0f4f5056ffe631acd014b70fd17.css></head><body><nav id=nav-drawer><input id=nav-input type=checkbox class=nav-unshown>
<label id=nav-open for=nav-input><span class="bar bar1"></span><span class="bar bar2"></span><span class="bar bar3"></span><span class=menu>MENU</span>
<span class=close>CLOSE</span></label>
<label id=nav-close for=nav-input></label><div id=nav-content><a href=/index.html><img loading=lazy src=/image/favicon.svg id=nav-logo alt=浅野学園物理部></a>
<a class=nav-link href=/index.html>ホーム</a>
<a class=nav-link href=/about/index.html>物理部とは</a>
<a class="nav-link isActive" href=/document/index.html>部誌</a>
<a class=nav-link href=/game/index.html>ゲーム</a>
<a class=nav-link href=/blog/index.html>ブログ</a>
<a class=nav-link href=/electronic/index.html>電工の部屋</a><hr><a class=nav-link href=/credit/index.html>クレジット(ライセンス)</a></div></nav><main><div id=content><a name=top></a><div id=breadcrumbs><a href=/index.html><img src=/image/icons/home-solid.svg class=inline-image>ホーム</a>
<img src=/image/icons/angle-right-solid.svg class=inline-image>
<a href=/document/>部誌</a>
<img src=/image/icons/angle-right-solid.svg class=inline-image>
<a href=/document/2002/>2002年度部誌</a>
<img src=/image/icons/angle-right-solid.svg class=inline-image>
<a href=/document/2002/1/>フォークリフト製作記</a></div><header id=overview><h1 id=title>フォークリフト製作記</h1><div><div class=properties><span class=author><img src=/image/icons/user-edit-solid.svg class=inline-image>
池田康輔</span></div><div class=share><span><a href="https://twitter.com/share?ref_src=twsrc%5Etfw" class=twitter-share-button data-related=Uchi54_apc data-lang=ja data-show-count=false>Tweet</a>
<script async src=https://platform.twitter.com/widgets.js></script></span></div></div></header><article><h2 id=フォークリフトロボットについて>フォークリフトロボットについて</h2><div class=image-float-right style=display:flex><img src=1.jpg>
<img src=2.jpg></div><p>今年、私はフォークリフトを製作することにしました。埠頭や運送会社などでコンテナを運んだりパレットを運んだりと活躍しているあの車です。このロボットを作ろうと思ったきっかけに「しむりふと」<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>(右図)というゲームがありました。このゲームは名前のとおりにフォークリフトのシミュレーションで、与えられた指示どおりにフォークリフトを動かし、ミッションをクリアしていくというゲームです。このゲームのフォークリフトの動きが気に入ってしまいました。それを見て、「これはロボットとして作るしかない!」と思ったわけです。</p><img class=image-float-left src=3.jpg><p>今まで物理部で作られてきたロボット(ショベルカーなど)は左右の車輪が完全に独立して回転し、直進・後進・回転を行っています(左図・左カーブの場合)。後輪のキャスターは車の動きに従ってぐるぐる回っているだけでした。そのためにその車の走り方は普通の自動車の走りとかけ離れたものになっています。</p><img class=image-float-right src=4.jpg><p>それならば、と今回は普通の自動車のように実際にハンドルを切って走るように作ろうと考えました。フォークリフトはハンドルを切ると後輪が動いてカーブを描きます。コントローラーにハンドルに相当するスイッチをつけ、それに応じてロボット本体のほうでモーターを使いタイヤを転回するようにします。</p><p>今年のロボットは「物理部初!ステアリングを切って走るロボット」ということで作り始めました。しかし、この原稿を書いている段階でまだこのロボットは動いていません。この原稿では最初の目標のまま書いていますが、展示に間に合わせるために妥協策を講じているかもしれません。</p><h2 id=フォークリフトロボットの構造>フォークリフトロボットの構造</h2><img class=image-float-right src=5.jpg><p>このロボットの要はコントローラーの入力に合わせてステアリングを切るところです。この部分はコントローラーに左右にハンドルを切るためのスイッチを取り付け、そこからの入力信号をPICと呼ばれるICで処理するようにします。実際にタイヤを動かす構造はギアボックスを使いタミヤ製のステアリングセットと組み合わせて作りました(右図、右写真)。当初はステッピングモーターを使いダイレクトにコントロールする予定でしたが、思いの外ステッピングモーター<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>のパワーが弱かったためギアボックスに変更しました。</p><ul><li>コントローラーのスイッチを倒すと、倒した方向に曲がるようにタイヤが動く</li><li>回転の限界位置にリミットスイッチをつけ、曲がり過ぎないようにする。</li><li>コントローラーのスイッチを戻すと、タイヤが中心位置に勝手に戻る。</li></ul><img class=image-float-left src=6.jpg><p>ここで問題になったのが最後の「勝手に中心位置に戻る」というところです。普通の電子回路だとなかなか作りにくいところです。今回はPICというICを使ってみることにしました。PICとはICの中にプログラムを書き込むことができ、そのプログラムによりICの端子につながっているセンサーやモーターなどを動かすことができます。今までPICを使ったことは無かったので、「First PICk」というトレーニングキットを買ってきて使い方を習得するところから始めました。このキットには習得用の実験基板と、PICへプログラムを書き込む回路がくっついた基板(左写真)が付いているので、一通りPICについて理解した後もずっと使えます。PICはプログラミング言語がアセンブラ<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>なのでとても難しいですが、使いこなせればかなり複雑な事までできる面白いパーツです。</p><p>このPICを核に電子回路が組まれています。基板の上にはICが2個と大き目のトランジスタ、リレーが1つにその他抵抗などの小さい部品がたくさんついています。基板の表面にパーツが乱雑に乗っている様子や、裏面の適当はんだ付け実装による高密度配線などもなかなか見ごたえがあります、が完成してからではなかなか見えません。</p><p>また、タイヤを中央で止めるためには中心位置を判定するためのセンサーも必要です。このロボットではフォトインタプラタというパーツを使うつもりです。このパーツは発光部と受光部に分かれていてその間に物が入ると反応を示すという働きをします。このパーツをクランクのところに取り付ければ、クランクが中心位置に入ったときにモーターを止めるということができます。しかし、まだここまで製作が進んでいないので何とも言えません。</p><p>電源はICとモーターを両方とも動かす必要があるので5V電源と3V電源が必要です。単3電池4本と単2電池2本を搭載しています。今の段階ではロボット本体にすべての電池を搭載しているのでとても無骨な印象を受けます。あまりにも重いためステアリングの動きが悪くなっているのでコントローラーに一部の電池を移動させようか検討しています。</p><figure class=image-float-right><img src=7.jpg><figcaption><small>ベースになったショベルカーロボット</small></figcaption></figure><p>ロボット本体は2年前に作ったショベルカーロボット(2台あった)を解体して部品や形を流用しつつ作りました。駆動用のギアボックスを取り付けるアルミアングル2本をそのまま使い、その上に乗って車体のベースとなる2本のアルミアングルをショベルカーロボットのパーツと同じ構造で作りました。</p><img class=image-float-left src=8.jpg><p>リフトの上下はギアボックスとベルトを使い、上下端の判定のためにマイクロスイッチを二つ使っています。ベルトは左図のように2つかけてあり、垂直方向のベルトにリフトが固定してあります。これは配置の関係でこのようになりました。ギアボックスについた大ホイールが白矢印のほうに回転するとリフトが上昇し、黒矢印のほうに回転すると下降します。一番上までリフトが昇ると上端にあるスイッチを押し、昇るための回路が切れてこれ以上上昇しなくなります。逆の降りるための回路はつながっているので、コントローラーで逆のスイッチを押せばリフトを下ろすことができます。一番下にリフトが下りてきたときはこれと反対に動作します。スイッチのついている位置は前ページの写真を見てください。上端はロボットの前面についていて、リフトでスイッチを押します。下端は支え棒の裏側にありリフトの金具でスイッチを押すようになっています。この判定回路にはダイオード<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>が使われていて多少電圧が失われますが、最も簡単なこの方法を選びました。</p><img src=9.svg style="padding:5px;border:solid 5px #000"><h2 id=フォークリフトロボット製作小話>フォークリフトロボット製作小話</h2><p>このフォークリフトロボットの前輪にはギアボックスが2つついていて、そこにタイヤがついています。実はこの2つのうち右側のギアボックスは動作しないようになっています。タイヤをまげてカーブするように車を作ると、実際にカーブするときに左右のタイヤで進む距離が微妙にずれてくるのです。このずれがあるのを無視して両方のタイヤを同じ速さで回転させると全くカーブしない車になってしまいます。そのためにこのずれを生かすように片側駆動になっているのです。後輪が直進の向きになっていれば片方のタイヤしか回転しなくても直進することができるので、その場で回転してしまうということはありません。</p><p>また車体に関して、今回はじめて穴開きのアルミ板を使いました。これは見た目がいい上にネジ穴をあける必要が無く便利だろうと思って買ってきたのですが、なかなか間隔と合わずに、ネジ穴を押し広げたり無理やりネジ止めしたりと結構苦労している代物です。最終的に、基板の覆いとして取り付けたりすれば結構見栄えのするパーツだと思います。</p><p>電子回路にも小話があります。このロボットではPICというプログラムを書き込むICを使っています。プログラムを書き込むためにICを書き込み基板に差込み、ちょいと休憩を取っていました。そろそろ作業を再開しようと基板の前に戻り少し浮いていたICを押し込もうとして手を触れた瞬間。<strong>アチッ!!</strong>火傷しました。原因はICの逆挿しでした。不注意でICを逆向きに基板に差してしまったのです。ICは決まった端子に決まった役割があるので、それをつなぎ間違えてしまったために思いっきり発熱してしまったみたいです。触ったときの温度は半田ごての先に触れて火傷したとき並みでした。半田ごての先端が300度近くになっているのでICもかなりの温度になっていたことが分かります。指先にICの形のままの長方形の火傷の跡ができました。ちなみにそのICは破損。その後まともに動作してくれなくなりました。予備のICを使っています。高かった書き込み基板とそれに接続しているコンピューターが壊れなくて良かったです。</p><p>&mldr;現在このような事をしながら試行錯誤中です。まだ完成までは多少かかりそうですが地道に進めています。無事に文化祭で展示できていることを祈りながらこの稿を終わりにしたいと思います。</p><section class=footnotes role=doc-endnotes><hr><ol><li id=fn:1 role=doc-endnote><p>藤石達也さんが製作されたシミュレーションゲーム。フリーソフト。 <a href=http://www.h2.dion.ne.jp/~ame/>http://www.h2.dion.ne.jp/~ame/</a>こちらからダウンロードできます。 <a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2 role=doc-endnote><p>普通のモーターが磁石の間を整流子の付いたローターが回転するのに対して、コイルの間を磁石が動くようになっているモーター。外側のコイルにパルス信号を送ることで好きな角度だけ回転させることができる。 <a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3 role=doc-endnote><p>プログラミング言語の一種。ハードウェアの中で使われている機械語にちょいと飾り付けしただけのような言語なので、最も機械に近い言葉である。よって非常に難しい。プログラミングにコツが必要である。 <a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4 role=doc-endnote><p>一方向のみに電気を流す働きのある半導体。決まった方向からしか電気を通すことが無く、逆からだと全く流れない。これの性質を利用してリフトの上下回路が製作された。 <a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section></article><span class=next>次へ<a href=https://asanobuturi.github.io/document/2002/2/>Windowsドッキリプログラミング初級＞</a></span><br></div><aside id=sidebar><nav id=sidemenu><div class=side-back><a href=../index.html>記事の一覧へもどる<img src=/image/icons/sign-out-alt-solid.svg class=inline-image></a></div><div class=side-next><a href=https://asanobuturi.github.io/document/2002/2/>Windowsドッキリプログラミング初級<img src=/image/icons/angle-right-solid.svg class=inline-image></a></div></nav><section id=indexblock><header class=indextitle>目次</header><nav id=TableOfContents><ul><li><a href=#フォークリフトロボットについて>フォークリフトロボットについて</a></li><li><a href=#フォークリフトロボットの構造>フォークリフトロボットの構造</a></li><li><a href=#フォークリフトロボット製作小話>フォークリフトロボット製作小話</a></li></ul></nav></section></aside></main><footer id=footer><div class=section><nav class=grid><div><label class=headline>CONTENT</label><ul><li><a href=/>Home</a></li><li><a href=/document/>Docs</a></li><li><a href=/game/>Games</a></li><li><a href=/blog/>Blog</a></li><li><a href=/electronic/>Electronic</a></li></ul></div><div><label class=headline>CONTACT</label><ul><li><a target=_blank href=https://twitter.com/Uchi54_apc>Twitter</a></li><li><a target=_blank href=https://github.com/asanobuturi>GitHub Organization</a></li><li><a target=_blank href=https://github.com/asanobuturi/asanobuturi.github.io>Repository</a></li><li><a target=_blank href=https://github.com/asanobuturi/asanobuturi.github.io/issues>Issues</a></li></ul></div><div><label class=headline>ABOUT</label><ul><li><a href=/about/>About Us</a></li></ul></div></nav></div><hr><div class=section><p class=copyright>Copyright &copy; 2015 - 2023 Asano Physics Club, All Rights Reversed.</p><nav class=sns><a target=_blank href=https://twitter.com/Uchi54_apc><svg class="w-5 h-5" fill="currentcolor" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.29 20.251c7.547.0 11.675-6.253 11.675-11.675.0-.178.0-.355-.012-.53A8.348 8.348.0 0022 5.92a8.19 8.19.0 01-2.357.646 4.118 4.118.0 008.224 8.224.0 1-2.605 004.107.0.0-6.993 3.743 110 1-8.457-4.287 4.106 001.27 5.477A4.072 4.072.0 012.8 9.713v.052.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233.0 012 18.407a11.616 11.616.0 006.29 1.84"/></a><a target=_blank href=https://github.com/asanobuturi><svg class="w-5 h-5" fill="currentcolor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483.0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951.0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65.0.0.84-.27 2.75 1.026A9.564 9.564.0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688.0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855.0 1.338-.012 2.419-.012 2.747.0.268.18.58.688.482A10.019 10.019.0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"/></a></nav></div></footer></body></html>