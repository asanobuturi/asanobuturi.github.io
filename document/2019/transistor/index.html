<!doctype html><html lang=ja><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=description content="多くの電子部品の中でも非常に重要なはたらきをするトランジスタの、1万文字に渡る丁寧な解説"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/styles.css><link rel=subresource class=lazy-css href=/highlight.css><link rel=icon href=/image/favicon.svg type=image/svg+xml><link rel="icon alternate" href=/images/favicon.ico><meta property="og:site_name" content="浅野学園物理部"><meta property="og:url" content="https://asanobuturi.github.io/document/2019/transistor/index.html"><meta property="og:title" content="基礎からはじめるトランジスタ｜浅野学園物理部"><meta property="og:description" content="多くの電子部品の中でも非常に重要なはたらきをするトランジスタの、1万文字に渡る丁寧な解説"><meta property="og:type" content="website"><meta property="og:image" content="https://asanobuturi.github.io/thumbnails/document/2019/transistor/thumbnail.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@Uchi54_APC"><script src=/general.js></script></head><link rel=stylesheet href=/blog_new.css><link rel=stylesheet href=/highlight.css><script src=https://kit.fontawesome.com/1e291c4f9b.js crossorigin=anonymous></script><title>基礎からはじめるトランジスタ｜浅野学園物理部</title><script type=text/javascript async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML"></script><body><div id=nav-drawer><input id=nav-input type=checkbox class=nav-unshown>
<label id=nav-open for=nav-input><span class="bar bar1"></span><span class="bar bar2"></span><span class="bar bar3"></span><span class=menu>MENU</span>
<span class=close>CLOSE</span></label>
<label id=nav-close for=nav-input></label><div id=nav-content><a href=/index.html><img loading=lazy src=/image/MenuBarLogo.webp id=nav-logo alt=浅野学園物理部></a>
<a class=nav-link href=/index.html>ホーム</a>
<a class=nav-link href=/about/index.html>物理部とは</a>
<a class="nav-link isActive" href=/document/index.html>部誌</a>
<a class=nav-link href=/game/index.html>ゲーム</a>
<a class=nav-link href=/blog/index.html>ブログ</a>
<a class=nav-link href=/electronic/index.html>電工の部屋</a><div class=nav-separator></div><a class=nav-link href=http://d.hatena.ne.jp/apc/>ブログ(外部サイト)</a></div></div><main><div id=main><div class=documentcontent><div id=breadcrumbs><i class="fas fa-home"></i><a href=/index.html>ホーム</a>
<i class="fas fa-angle-right"></i><a href=../../index.html>部誌</a>
<i class="fas fa-angle-right"></i><a href=../index.html>2019年度部誌</a>
<i class="fas fa-angle-right"></i><a href=./index.html>基礎からはじめるトランジスタ</a></div><header class=documenttitle><h1 id=title>基礎からはじめるトランジスタ</h1><p class=author><i class="fas fa-user-edit"></i>R.S.</p><a href="https://twitter.com/intent/tweet?text=%e5%9f%ba%e7%a4%8e%e3%81%8b%e3%82%89%e3%81%af%e3%81%98%e3%82%81%e3%82%8b%e3%83%88%e3%83%a9%e3%83%b3%e3%82%b8%e3%82%b9%e3%82%bf&via=Uchi54_APC&related=Uchi54_APC" class=twitter-share-button data-show-count=false>ツイート</a>
<script async src=https://platform.twitter.com/widgets.js></script></header><div class=document><h2 id=はじめに>はじめに</h2><p>お久しぶりです。中3になった鈴木です。今回は作品の製作記や解説ではなく、バイポーラトランジスタに焦点を当て、バイポーラトランジスタの使い方だけを解説していくことにしました。果たして、需要はあるのでしょうか。</p><p>というのも、トランジスタの使い方だけをただ集めた本は中々なく、トランジスタが何者なのかは分かったが、どう使えばいいのか分からない状態、それが長く続いたのです。僕と同じ状態にある人の助けになるかもしれない、また、後輩たちにもこれを見せれば何か分かってくれるかもしれない。そういう思いで執筆しています。</p><p>オームの法則やコンデンサ、インダクタなど基礎中の基礎の部分は割愛します。尺の都合というのと、そこの解説はどの入門書にも載っていると思うので。ここに書いてあることについて何が何だか分からない人は、トランジスタの足配置が分かったぐらいの段階でもう一回このページを開いてみてください。もしかしたら何かが分かるかもしれません。</p><p>また、トランジスタの品種を記載するときは基本的に”2SC/D****(2SA/B****)”の形とします。それぞれNPNとPNPで特性がほとんど同じであるコンプリメンタリ品です。</p><p>最後にここに出てきたトランジスタが現行品か入手可能か、入手困難かをまとめて記載しておきます。入手可能/入手困難かは執筆時点(2019年7月)、秋葉原の部品店で入手出来るかどうかのデータであり、長期的に保証ができるものではないことをご了承ください。</p><h2 id=トランジスタのパッケージ、足配置>トランジスタのパッケージ、足配置</h2><p>トランジスタは一部の例外を除きプラスチックモールドに封入されており、内部とパッケージは絶縁されています。またスルーホール実装型と表面実装型の二種類があり、家電など大量生産が可能な分野では後者が一般的ですが（家電を解体すると分かると思います。）、個人が少量を試作する場合は前者もまだまだ使われます。しかし、近年では日本の大手メーカーを中心にスルーホール実装型のトランジスタの生産中止が相次ぎ、個人的にも今後の供給に不安な面があります。ただ、一部有名なトランジスタに関しては台湾や中国などのメーカーでセカンドソース品の生産があるものもあり、必ずしも入手出来ないとは限りません。もし気になる方は秋月などで取り扱いがあるかどうか確認してみてください。</p><h3 id=プラスチックモールド>プラスチックモールド</h3><p>プラスチックモールドのトランジスタは前述の通り基本的に内部とパッケージが絶縁されています。そのため非常に使い勝手がよく、なおかつコストも低いためトランジスタの中では最もメジャーです。</p><p>プラスチックモールドのトランジスタには大抵の場合足が3本同じ方向に出ており、それぞれの足がトランジスタのどこに相当するのかは国ごとに大体統一されています。</p><p>具体的には、日本やヨーロッパだと文字が印字されている面の左側から見て<span class=text-bold>エミッタ(E)、コレクタ(C)、ベース(B)</span>です。<span class=text-bold>ECB</span>です。アメリカだと同じように見て左から<span class=text-bold>エミッタ(E)、ベース(B)、コレクタ(C)</span>です。<span class=text-bold>EBC</span>です。</p><p>この違いは同じ回路内に違うメーカーのトランジスタが混在していたり、トランジスタを交換するときには致命的で、足配置がECBかEBCか確認しておかないと回路が動作しない原因にもなります。</p><h4 class=float-clear>TO-92</h4><img src=./image1.webp class=image-float-right><p>スルーホール実装型で小信号用のトランジスタではメジャーなパッケージです。上から見た断面はかまぼこ型になっています。東芝の2SC1815(2SA1015)やNECの2SC945(2SA733)などがこれにあたります。</p><h4 class=float-clear>TO-126</h4><img src=./image2.webp class=image-float-right><p>TO-92と同じくプラスチックモールドですが、こちらは平たく、そして大きくなっています。また、中央には放熱器に取り付けるためのネジ穴が開いており、製品も放熱器を取り付けることを前提にした設計になっているため、余程のことがない限り放熱器を取り付けることをお勧めします。用途はオーディオ回路やスイッチングなど。東芝の2SC3422(2SA1359)やTTC004B(TTA004B)などがこれにあたります。</p><h4 class=float-clear>TP-220</h4><img src=./image3.webp class=image-float-right><p>こちらもプラスチックモールドですが、文字印字面の反対側に金属がむき出しになっている部分があり、そこの中央には放熱器に取り付けるためのネジ穴が開いています。こちらもまた放熱器を取り付けることが前提の設計となっています。金属部分は内部と絶縁されておらず、そのまま放熱器を取り付けるとショートの原因にもなることがあるので、絶縁性のあるグリスや絶縁シートなどで適切な対策をとってください。日立の2SC1061(2SA671)や東芝の2SD880(2SB834)などがこれにあたります。</p><h4 class=float-clear>TO-3P</h4><img src=./image4.webp class=image-float-right><p>プラスチックモールドです。金属部分があり放熱器を取り付けるための穴も開いています。その他気を付けること等もTO-220と同じですが、大きさと金属部分の形が異なります。東芝の2SC5198(2SA1941)やサンケンの2SC3519A(2SC1386A)などがこれにあたります。</p><p>また、ここまで大型なものになると表面実装型での代替は困難なため、家電など大量生産が可能なものであってもスルーホール実装で搭載されるほか、大手メーカー製のオリジナル品が現行品として供給され続けている印象です。</p><h4 class=float-clear>TO-247</h4><img src=./image5.webp class=image-float-right><p>TO-3Pと特徴はほとんど同じですが、より薄型になっています。IGBTに多くなっています。(バイポーラトランジスタとは異なる点が多いため割愛）</p><p>東芝の2SC5200(2SA1943)は個人的にTO-247に見えますが、メーカー側ではTO-3Pとして扱っているようです。</p><h3 class=float-clear id=メタルCANパッケージ>メタルCANパッケージ</h3><p>メタルCANパッケージのトランジスタは、その名の通り金属製の缶の中にトランジスタが封入されています。かつては信頼性の証でもあり、また放熱性も良好なためオーディオアンプの最終段などに使われていましたが、国内/海外メーカーともに生産終了が相次ぎ市場にはごく少量のみが出回っています。それらのほとんどが台湾製のセカンドソース品です。</p><h4>TO-3</h4><p>一見帽子のようにも見える金属製の缶から足が2本出ており、また放熱器に取り付けるための穴が端の方に開いています。トランジスタにもよりますが2本の足にエミッタ、ベースが、金属部分にコレクタが相当する場合が多い印象です。2N3055などがこれにあたります。</p><h2 id=信号を増幅する(電圧編)>信号を増幅する(電圧編)</h2><p>まずはトランジスタの基本、増幅動作から解説します。増幅とは、入力された信号の振幅を大きくすることです。増幅動作において重要なのは、信号に余計な色を付けないことです。（比喩的表現ですが、要は信号を忠実に増幅するということです。）</p><p>増幅回路の一つとして、まずはエミッタ接地増幅回路を紹介します。</p><h3 id=エミッタ接地増幅回路(基本)>エミッタ接地増幅回路(基本)</h3><p>エミッタ接地増幅回路とは、その名の通りエミッタをGNDに接地し信号を増幅する回路のことです。（ただし、ゲインを調整する場合にはエミッタ－GND間に抵抗を接続することもあります。）</p><p>下の回路図を見てください。この回路図のVinに信号を入力するとVout-GND間に増幅された信号電圧が出力されます。</p><p>電圧増幅度Avは以下の式で決定されます。</p><p class=mathjax-center>\(Av = \frac{Vin}{Vout} = \frac{Rc}{Rd}\)</p><h4">定数の決め方</h4><p>ここまで、エミッタ接地増幅回路の動作について解説しました。それでは、実際に回路を設計してみましょう。</p><p>とその前に、この回路を設計する上で重要なことを覚えておきましょう。</p><ul><li class=asterisk-2><p>トランジスタ回路の設計は直流動作と交流動作と分けて行う。直流動作とは信号とは関係ないバイアス電流など。交流動作とは実際に信号を入力したときの動作。</p></li><li class=asterisk-2><p>入力、出力電圧の基準(無信号時の電圧)が\(0\mathrm V\)(GND)ではない場合、それぞれに結合コンデンサ(カットオフコンデンサとも)を接続する。直流電圧があると回路の動作点が狂うほか、負荷がスピーカーなどのリアクトル負荷の場合、直流電圧をかけると磁気飽和を起こし、インピーダンスが急激に低下し(リアクトルとしての意味をなさず、巻線の抵抗負荷分のみのインピーダンスになる)許容範囲を超えた大電流が流れるため特に注意すること。また、結合コンデンサがあるとモーターなどの制御は不可能。結合コンデンサを省ける回路は後述。</p></li><li class=asterisk-2><p>回路を「交流的に」見る場合もある。要は直流成分を無視して（結合コンデンサを通した状態、とも考えてよい）電圧の変動分のみを見る。よって\(\mathrm{VCC}\)(電源電圧)と\(\mathrm{GND}\)は交流的に電位差がない。また、トランジスタの\(\mathrm{Vb}\)－\(\mathrm{Ve}\)間にも交流的に電位差がない。</p></li><li class=asterisk-2><p>トランジスタのコレクタ電流は定格を超えない限りいくらでも流してよいが、あまりに多く流しても不経済なうえ、トランジスタの雑音が最小になるコレクタ電流値は定格ギリギリではないため適当に決める。大体\(1\sim10\mathrm{mA}\)。</p></li><li class=asterisk-2><p>トランジスタのコレクタ電流\(Ic = Ie\)(エミッタ電流)として考える。ベース電流は\(Ic\)の\(\frac{1}{hfe}\)(直流電流増幅率)倍なので微々たるもの。無視して構わない。</p></li><li class=asterisk-2><p>トランジスタの<math><mi>hfe</mi></math>(直流電流増幅率)はコレクタ電流<math><mi>Ic</mi></math>によって大きく変動するのでデータシートをよく確認する。</p></li><li class=asterisk-2><p>トランジスタのベース－エミッタ間電圧<math><mi>Vbe</mi></math>は大体<math><mn>0.6</mn><mo>V</mo></math>として設計する。</p></li><li class=asterisk-2><p>トランジスタのエミッタ－GND間の電圧は<math><mn>2</mn><mo>V</mo></math>程度にする。エミッタ電圧の変動を許容するため。</p></li><li class=asterisk-2><p>トランジスタのバイアス電流はベース電流より「十分大きい電流」。個人的に大体10倍前後以上がベストだと勝手に思っている。</p></li><li class=asterisk-2><p>回路の入力電圧、出力電圧の基準は<math><mi>Vcc</mi></math>の半分(後述の両電源アンプの場合は<math><mi>GND</mi></math>)になるべく近づける。信号の振幅をできる限り大きく取れるようにするため。</p></li><li class=asterisk-2><p>回路記号のみを書いてある回路図に既に決まっている定数を書き加えながら設計していくと設計が楽になる。</p></li><li class=asterisk-2><p>細かいことは気にしない。</p></li></ul><p>以上のことを覚えられたら、次に進んでみましょう。もし不安になったら適宜戻って確認してみてください。</p><h4>設定条件</h4><table><tr><td><p>電圧増幅率</p></td><td><p>2倍</p></td></tr><tr><td><p>最大入力電圧</p></td><td><p>\(1Vp-p\)</p></td></tr><tr><td><p>最大出力電圧</p></td><td><p>\(2Vp-p\)</p></td></tr><tr><td><p>電源電圧</p></td><td><p>\(9\mathrm{V}\)</p></td></tr><tr><td><p>カットオフ周波数</p></td><td><p>(決めない)</p></td></tr><tr><td><p>使用するトランジスタ</p></td><td><p>2SC1815-GR</p></td></tr></table><p>今回、最大入力電圧は\(1Vp-p\)、最大出力電圧は\(3Vp-p\)としました。また、電源電圧は余裕をもって\(9\mathrm{V}\)とします。\(9\mathrm{V}\)だと006P電池(一般的に9V電池と呼ばれているスナップ付きのあの電池)がそのまま使えるので楽ですね。このように電源電圧は多少余裕をもって、なおかつ電池やトランス、ACアダプタから取りやすい電圧にしましょう。</p><p>また、使用するトランジスタは2SC1815-GRです。2SC1815は言わずと知れた東芝の有名なトランジスタで、オリジナル品は生産終了となりましたが入手はオリジナル品、セカンドソースともに比較的容易です。今回はオリジナル品を使用します。</p><p>まずは、回路の増幅度を決定するコレクタ抵抗\(Ra\)とエミッタ抵抗\(Rb\)からです。上にも書いてある通り、今回は出力電圧の基準を\(Vcc\)の半分、\(4.5\mathrm{V}\)に、またコレクタ電流を\(2\mathrm{mA}\)とします。また、エミッタ－GND間の電圧を\(2\mathrm{V}\)とします。</p><p>ここでは、下に定数が書き込んである回路図とは別に回路記号のみで定数のない回路図を掲載しておきます。練習用として自分で定数を書き込んでみて、設計してみてください。</p><p>では、ここから定数を決めるため電圧と電流が決まっているところを探してみましょう。よく探してみてください。エミッタ抵抗\(Rc\)にかかる電圧、要はエミッタ－GND間の電圧は\(2\mathrm{V}\)、また\(Ic=Ie\)としたとき\(Ie=2\mathrm{mA}\)です。よって、オームの法則よりエミッタ抵抗\(Rd=\frac{2\mathrm{V}}{0.002\mathrm{A}}=10000\mathrm{Ω}\)
。よって\(1\mathrm{kΩ}\)となります。これはE24系列にあるので大丈夫ですね。また、ベース－エミッタ間電圧\(Vbe=0.6\mathrm{V}\)より、ベース電圧\(2.6\mathrm{V}\)。</p><p>ここで、念のため入力電圧の振幅がとれるかどうか確認します。最も電圧が高いとき、ベース電圧\(Vb\)は\(2.6\mathrm{V}\)を基準として\(0.5\mathrm{V}\)ですから、\(3.1\mathrm{V}\)、また、最も電圧が低いとき、
\(Vb\)は\(2.6\mathrm{V}\)を基準として\(-0.5\mathrm{V}\)、よって\(2.1\mathrm{V}\)となります。この場合だと大丈夫ですね。このとき、\(Vb\)が電源電圧を越えていたりマイナスになっていたりすると入力波形がクリップしてしまうため、設計を変更してください。エミッタ－GND間の電圧を調整するのが一番楽だと思います。</p><p>次に、コレクタ抵抗\(Rc\)を決めます。先ほどのゲインの式を思い出してみてください。\(Av = \frac{Vin}{Vout} = \frac{Rc}{Rd}\)、よって\(Rc=1\times2=2\mathrm{kΩ}\)
となります。また、\(Ic=2\mathrm{mA}\)より\(Rc\)の電圧降下は\(2000\mathrm{Ω}\times0.002\mathrm{A}=4\mathrm{V}\)、\(Vout\)の電圧は\(5\mathrm{V}\)となります。ここで\(Rc\)の電圧降下が大きすぎて電位差の関係がめちゃくちゃになるのは、ゲインを大きくしすぎているか電源電圧が足りないかのどちらかであることがほとんどです。適宜ゲインや電源電圧を調整してください。大きなゲインには、大きな電源電圧が必須です。</p><p>次に、\(Vb\)が決まったのでバイアス回路の定数を決める作業に入ります。先ほど解説したように、バイアス電流はベース電流より「十分大きい」値、ですよね。その前に、ベース電流\(Ib\)を確認します。\(Ic=2\mathrm{mA}\)、また\(Ic=2\mathrm{mA}\)のとき\( hfe=150\)程度です。よって、\(Ib=\frac{Ic}{hfe}=0.0133\ldots\mathrm{mA}\)、ざっくり\(0.015\mathrm{mA}\)としてそれの「十分大きい」電流を流せばいいのですから、ざっくり\(0.2\mathrm{mA}\)ぐらいでしょうかね。15倍ぐらいになってしまいましたが、細かいことを気にしてはいけません。計算が面倒になるのは嫌ですし、ここまでざっくりやってもちゃんと回路は動きます。</p><p>バイアス回路の電流は\(0.2\mathrm{mA}\)、\(Vcc=9\mathrm{V}\)ですからバイアス抵抗\(Ra+Rb=45\mathrm{kΩ}\)、これを\(Vb=2.6\mathrm{V}\)ですから\(Ra:Rb=6.4:2.6\)に分圧し\(Ra=32\mathrm{kΩ}\)、\(Rb=13\mathrm{kΩ}\)…いや、これはE24系列にないですね。そこで、E24系列で似たような比、抵抗値の組み合わせを探します。30:12ではエミッタ抵抗にかかる電圧が小さくなるかな、56:24だと抵抗値が大きくなりすぎるかな…など色々考えながら、ここでは27:12、Ra=27kΩ、Rb=12kΩとします。抵抗値の合計は若干小さくなりますが、バイアス電流は約0.23mAですから大したことはないでしょう。細かいことは考えないのが重要です。</p><p>最後に、結合コンデンサの定数を決めます。結合コンデンサは周波数特性を細かく決めない場合適当に決めてしまって構いません。ここでは、入手しやすさと容量をみて\(470\mathrm{μF}\)とします。また、この場合コンデンサとバイアス抵抗はハイパスフィルターを形成します。ハイパスフィルターとは、その名の通り高い周波数の信号のみを通すフィルターのことです。ハイパスフィルターのカットオフ周波数(信号が\(-3\mathrm{dB}\)、要は\(1/2\)まで減衰する周波数)は次の式で求められます。</p><p class=mathjax-center>\(fc=\frac{1}{2}\pi{Rc}\)</p><p>よって、この回路の入力部分のカットオフ周波数は\(\frac{1}{2}\pi\times470\times20=0.016\ldots\mathrm{Hz}\)となり、まぁ大丈夫でしょう。周波数特性については最初から何も考えていないのでどうなっても基本的には構いません。</p><div class=images-side><img src=./image6.webp class=image-side>
<img src=./image7.webp class=image-side></div><p>そうこうしている間にもう回路は完成です。重要なのは細かく考えないことです。もしよければ設計した回路をユニバーサル基板の上に組んでみてください。繰り返しにはなりますが、ここまでざっくり設計してもちゃんと動きますよ。</p><p>また、ここで解説したものはエミッタ接地増幅回路の設計のあくまでも一例です。エミッタ接地回路の形、設計法は他にもあると思いますし、用途によってはそちらの方が優れている、なんてこともあるでしょう。</p><h3 id=信号を増幅する(電流編)>信号を増幅する(電流編)</h3><p>前章では信号電圧を増幅する回路について解説しました。これを電圧増幅といいます。このエミッタ接地増幅回路ですが、例えばあのままスピーカーなどを満足に駆動できるかというと、かなり難しいと思われます。また、ICやマイコンで出力からリレーなどを制御したいとき、特に小さいICやマイコンだと電流の供給能力が足りず、満足に負荷を駆動できない場合があります。出力インピーダンスが高すぎるのです。よって、スピーカーなどの重い負荷を接続しても電圧が下がってしまいます。そこで、電流増幅、もといインピーダンスを下げる回路が必要です。ここでは代表的なものとして、エミッタ・フォロワを解説します。</p><h4 id=エミッタ・フォロワ(基本)>エミッタ・フォロワ(基本)</h4><p>この基本形のエミッタ・フォロワはエミッタ接地増幅回路とかなり似ています。</p><p>先ほど、トランジスタのベース-エミッタ間の電位差は\(0.6\mathrm{V}\)である、と解説しました。よって、エミッタ・フォロワでは常に</p><p class=mathjax-center>\(Vb=Ve+0.6\mathrm{V}\)</p><p>の関係が生まれます。よって、この回路を交流的に見ると</p><p class=mathjax-center>\(\Delta{Vb}=\Delta{Ve}\)</p><p>となり、すなわち増幅度は1であることが分かります。</p><p>また、エミッタ接地増幅回路との決定的な違いは出力をエミッタから取っているところで、それによりエミッタの出力インピーダンスが低いため(電流を吐き出す能力が強化されています)結果的に電流増幅ができるのです。</p><h4>定数の決め方</h4><p>エミッタ・フォロワはエミッタ接地増幅回路と比べ定数を決めるのは比較的楽だと思われます。唯一気を付けなければならないことは発熱と出力波形のクリップです。（理由は後述）</p><h4>設計条件</h4><table><tr><td><p>最大入力電圧(=最大出力電圧)</p></td><td><p>\(3Vp-p\)</p></td></tr><tr><td><p>負荷抵抗</p></td><td><p>\(8\mathrm{Ω}\)</p></td></tr><tr><td><p>電源電圧</p></td><td><p>\(9\mathrm{V}\)</p></td></tr><tr><td><p>使用するトランジスタ</p></td><td><p>2SC3422</p></td></tr></table><p>今回、小さめのパワーアンプを想定し負荷は\(8\mathrm{Ω}\)、最大入力電圧は\(3Vp-p\)とします。また、電源電圧は余裕を持って\(9\mathrm{V}\)とします。</p><p>また、入力の基準電圧は\(\frac{Vcc}{2}=4.5\mathrm{V}\)、出力の基準電圧は4.5-0.6=3.9(V)とします。</p><p>まずは、ピーク時に負荷がどれぐらいの電流を必要とするのか計算します。出力電圧のピークは\(3Vp-p\)ですから、ピーク時には\(+1.5\mathrm{V}\)、\(-1.5\mathrm{V}\)の電圧が負荷に掛かります。よって、負荷は\(8\mathrm{Ω}\)ですから\(±187.5\mathrm{mA}\)となります。よって、エミッタ・フォロワが供給できる電流は\(187.5\mathrm{mA}\)以上、またエミッタ・フォロワが吸い込める電流も\(187.5\mathrm{mA}\)以上にしなければなりません。そこで、余裕を持ってエミッタ電流を\(200\mathrm{mA}\)として計算します。よって\(\frac{3.8\mathrm{V}}{0.2\mathrm{A}} =19.5\mathrm{Ω}\)となります。E24系列に合わせて\(18\mathrm{Ω}\)とします。</p><p>次に、バイアス回路を設計します。コレクタ電流(=エミッタ電流)は\(200\mathrm{mA}\)、ベース電流は\(\frac{Ic}{hfe}\)、また\(Ic=200\mathrm{mA}\)のとき2SC3422の\(hfe\)は大体150ですから、ベース電流は約\(1.3\mathrm{mA}\)となります。よってバイアス電流をここでは\(20\mathrm{mA}\)とします。また、入力の基準電圧は\(\frac{Vcc}{2}(=4.5\mathrm{V})\)ですから、バイアス抵抗の分圧比は\(1:1\)となるため、それぞれ\(\frac{4.5}{2}=225\mathrm{Ω}\)、E24系列に合わせ\(220\mathrm{Ω}\)とします。</p><p>また、結合コンデンサは(恒例の?)\(470\mathrm{μF}\)とします。</p><div class=images-side><img src=./image8.webp class=image-side>
<img src=./image9.webp class=image-side></div><p>最後に、設計したエミッタ・フォロワの損失を考えてみましょう。エミッタ抵抗には電圧がピークの時、\(Vb-0.6\mathrm{V}\)の電圧が掛かりますから、\(\frac{8.4\mathrm{V}}{12\mathrm{Ω}}\approx0.7\mathrm{A}\)の電流が流れます。よって、消費電力は\(8.4\mathrm{V}\times0.7\mathrm{A}\approx5\times9\mathrm{W}\)となります。</p><p>また、無信号時にはエミッタ抵抗\(Rb\)に\(3.9\mathrm{V}\)の電圧が掛かりますから、消費電力は\(1.3\mathrm{W}\)となります。</p><p>この時点でお気づきの方もいらっしゃるとは思われますが、\(5.9\mathrm{W}\)もの電力を許容できる抵抗は比較的高価で、なおかつ無信号時であっても\(1.3\mathrm{W}\)の電力を消費せずただ熱に変換しているだけ、というのは非常に無駄なことです。かといって、省エネを狙おうとエミッタ抵抗を小さくすると、出力から見て”負”側であるエミッタ抵抗が吸い出せる電流が小さくなり、信号電圧が大きくなると波形がクリップしてしまいます。</p><p>今回の回路では入力電圧を\(3Vp-p\)としましたが、これを例えば\(8Vp-p\)とすると電源電圧的には問題がなくともピーク時の電流は\(500\mathrm{mA}\)となり、これは明らかにエミッタ抵抗が吸い出せる電流の限度を超えています。</p><p>信号が負である時の等価回路を下図に示します。交流的に見るとエミッタ抵抗と出力抵抗は並列接続されており、また\(200\mathrm{mA}\)を吸い出すことのできる電流源と接続されています。よって、\(12\mathrm{Ω}\|8\mathrm{Ω}=4.8\mathrm{Ω}\)、またオームの法則よりエミッタ抵抗に掛かる電圧は\(0.2\mathrm{A}\times4.8\mathrm{Ω}=0.96\mathrm{V}\)以下になり得ません。よって\(8Vp-p\)の信号のうち\(0.96\mathrm{V}\)以下(出力電圧の基準から見て\(-2.94\mathrm{V}\)以下)の成分は全て\(0.96\mathrm{V}\)に平準化され、信号が失われてしまいます。これが出力波形のクリップの正体です。</p><p>ここに挙げたエミッタ・フォロワの問題点を解決するには何が必要でしょうか。いずれも、出力から見て負側の電流制限がネックになっています。次の章がその答えです。</p><h3 id=エミッタ・フォロワ(プッシュプル)>エミッタ・フォロワ(プッシュプル)</h3><p>負側の電流制限を解決するには負側にもトランジスタを配置し電流供給能力を改善するのが一番でしょう。抵抗によって電力を熱に変えて捨てることはありませんから、余計な電力消費も抑えられます。このように、負側にもトランジスタを配置し正負で対称なエミッタ・フォロワをプッシュプル・エミッタ・フォロワと呼びます。動作はプッシュプルでないエミッタ・フォロワと特に変わりません。それでは、さっそく設計に入りましょう。</p><h4>定数の決め方</h4><p>プッシュプル・エミッタ・フォロワで気を付けるべきことは、負側に正側のnpnトランジスタとコンプリメンタリのpnpトランジスタを使用することです。負側にもインピーダンスの小さいエミッタを接続し、また正負で対称な回路にするためです。</p><p>よって、正負で対称なのですからこの回路の入力と出力の基準電圧は\(\frac{Vcc}{2}\)となります。</p><h4>設計条件</h4><table><tr><td><p>最大入力電圧</p></td><td><p>\(6Vp-p\)</p></td></tr><tr><td><p>負荷抵抗</p></td><td><p>\(8\mathrm{Ω}\)</p></td></tr><tr><td><p>電源電圧</p></td><td><p>\(9\mathrm{V}\)</p></td></tr><tr><td><p>使用するトランジスタ</p></td><td><p>2SC3422,2SA1359</p></td></tr></table><p>まずは（これでほぼ終わりですが）バイアス回路を設計します。ピーク時のコレクタ電流は\(750\mathrm{mA}\)ですからベース電流は\(5\mathrm{mA}\)、よってバイアス電流は\(50\mathrm{mA}\)とします。入力の基準電圧は\(\frac{Vcc}{2}\)ですからバイアス回路の分圧比は\(1:1\)です。ですからバイアス抵抗は\(\frac{4.5\mathrm{V}}{0.05\mathrm{A}} =90\mathrm{Ω}\)となり、E24系列に合わせ\(91\mathrm{Ω}\)とします。</p><p>最後に、結合コンデンサは\(470\mathrm{μF}\)とします。</p><div class=images-side><img src=./image10.webp class=image-side>
<img src=./image11.webp class=image-side></div><h3 id=エミッタ・フォロワ(正負電源・プッシュプル)>エミッタ・フォロワ(正負電源・プッシュプル)</h3><p>この回路の解説に入る前にまずは「負電源」の概念について知っておく必要があります。そもそも、回路における電圧とは所詮電位差でしかなく、絶対的な基準は存在しません。ただし、基準がないと混乱してしまいますから、とある電圧を地面と同じ電圧として定め、それをGNDと呼びGNDからの電位差を回路における電圧といているのです。つまり、回路における\(9\mathrm{V}\)とはGNDより\(9\mathrm{V}\)高い電圧のこととなりますね。</p><img src=./image12.webp class=image-float-right><p>もし、このようにGNDが相対的な基準でしかないのならGNDより低い電圧も存在するのはないでしょうか。例えば、右の図のような回路を組んだとき、B点は\(-9\mathrm{V}\)になるはずです。また、A-B間に流れる電流の向きはA→Bとなるはずです。もし気になるようなら、皆さんの家で実験してみてください。また、このように負の電圧を生み出すよう接続した電源のことを負電源と呼びます。負電源の概念はよく使うので覚えておいてください。</p><p>では、負電源が活用できるところとして、先ほど解説したプッシュプル・エミッタ・フォロワがあります。この回路の電源は単3乾電池*2とします。このとき、この回路のGNDは下の図の赤線のところですね。では、GNDを2つの電池の間、また入力のところに持って行くとどうなるでしょうか。</p><div class=images-side><img src=./image13.webp class=image-side>
<img src=./image14.webp class=image-side></div><p>この通り、入力から見て負側の電源が負電源になりました。このような正電源と負電源の組み合わせのことを正負電源と呼びます。</p><p>正負電源を使用したエミッタ・フォロワは出力の基準が\(0\mathrm{V}\)(GND)なので、結合コンデンサが不要です。結合コンデンサを省いた回路は直流電圧を扱うこともできます。</p><img src=./image15.webp class=image-float-right><p>（通常、結合コンデンサがあるとその時点で信号の直流成分はカットされてしまいます。スピーカーなどリアクトル負荷では直流電圧をかけると、しばらくして磁気飽和を起こしインピーダンスが急激に低下し(コイルの巻線の抵抗負荷分のみ)、定格を超えた大電流が流れ故障してしまいます。しかし、このようにスピーカーなどリアクトル負荷には必須でも、結合コンデンサがあるとモーター等の制御はできなくなってしまいます。）</p><p>そして、GNDが基準であればわざわざ抵抗で分圧して基準を決める必要はありませんから、ベース電圧がGNDからずれたときにベース電流を供給するために抵抗を付けるだけで十分です。ただし、抵抗をあまり小さくしすぎると入力インピーダンスが大きくなり信号に歪みが出る原因になるほか、抵抗を大きくしすぎると電流が流れたときの電圧降下が無視できないものになります。すると、入力の基準電圧=GNDという図式が崩れることになり、回路の前提が成り立たなくなってしまいます。それでは、設計に入ってみましょう。この回路はすぐに定数を決められます。</p><h4>設計条件</h4><table><tr><td><p>最大入力(出力)電圧</p></td><td><p>\(4Vp-p\)</p></td></tr><tr><td><p>負荷抵抗</p></td><td><p>\(8\mathrm{Ω}\)</p></td></tr><tr><td><p>電源電圧</p></td><td><p>\(\pm9\mathrm{V}\)</p></td></tr><tr><td><p>使用するトランジスタ</p></td><td><p>2SC3422,2SA1359</p></td></tr></table><h4>定数の決め方</h4><p>バイアス抵抗は大体\(1\mathrm{kΩ}\)程度がいいでしょう。単に筆者がなんとなくこれぐらいならいいだろう、と決めた数値なので多少変えても構いません。</p><p>…これで回路は完成です。</p><div class=images-side><img src=./image16.webp class=image-side>
<img src=./image17.webp class=image-side></div><p>ただし、この回路には一つ問題があります。トランジスタのベース－エミッタ間の電圧は\(0.6\mathrm{V}\)だと最初の方に解説しましたが、それはベース－エミッタ間にダイオードがあるからであり、トランジスタもダイオードの特性通りベース－エミッタ間の電圧が\(0.6\mathrm{V}\)以上にならないと電流は一切流れません。これは\(0\mathrm{V}\)付近でも変化のある信号にとっては致命的であり、何も対策をとらない回路では信号に歪みが出てしまいます。そこで、対策としてトランジスタのベース－エミッタ間の電圧を常に\(0.6\mathrm{V}\)以上にして歪みが出ないようにしてみましょう。先ほど、トランジスタのベース－エミッタ間にはダイオードがある、と解説しましたが、それを相殺するようにダイオードを配置してみます。回路図で電位差の関係を整理してみると、ダイオードがトランジスタのベース－エミッタ間の電圧降下を相殺できていることがわかると思います。</p><img src=./image18.webp style=max-width:45%><p>詳しい定数の決め方は通常のプッシュプル・エミッタ・フォロワと同様ですから割愛します。回路図に書き込みをして、電位の関係を整理しながら設計しましょう。</p><h2 id=トランジスタをスイッチに見立てる>トランジスタをスイッチに見立てる</h2><p>この見出しを見て、どういうことだ？と疑問を抱く方もいらっしゃるとは思いますが、トランジスタは無接点スイッチとしても利用することができます。原理は簡単で、トランジスタのベース-エミッタ間の電流のON/OFFによってコレクタ-エミッタ間の電流もON/OFFさせるだけです。トランジスタは電流増幅器ですから小さい電流で大きな電流を制御することができます。</p><h3 id=スイッチング回路>スイッチング回路</h3><img src=./image19.webp class=image-float-right><p>設計はものすごく簡単です。制御する電流の最大値より余裕を持ってコレクタ電流を設定し、それに合わせベース電流を定めてそれで終わりです。トランジスタのベース電流によりコレクタ電流が決定されても、電源の供給能力が足りなければそれに合わせた電流が流れるだけですから無駄な電流が流れるなどの心配はありません。</p><p>ただし、気をつけなければならないのはトランジスタが電流増幅器であることです。トランジスタのベースを電圧で制御すると、ベース電圧とコレクタ電流の関係が非線形になり非常に設計が面倒になります。逆に、トランジスタを電流で制御すると（理想的な電流源は実在しないため、電(圧)源と抵抗器を使い定電流を生み出します）コレクタ電流はベース電流の\(hfe\)倍となり、関係が線形ですから設計は簡単になります。</p><h4>設計条件</h4><table><tr><td><p>最大コレクタ電流</p></td><td><p>\(2\mathrm{A}\)</p></td></tr><tr><td><p>電源電圧</p></td><td><p>\(15\mathrm{V}\)</p></td></tr><tr><td><p>制御電圧</p></td><td><p>\(5\mathrm{V}\)</p></td></tr><tr><td><p>使用するトランジスタ</p></td><td><p>2SC5200</p></td></tr></table><p>制御電圧はマイコンなどを想定し\(5\mathrm{V}\)の独立した電源とします。また、設計した回路を実使用するときにはマイコンなどの電流供給能力に注意してください。もし足りないようであれば、エミッタ・フォロワを前段に挟んで電流増幅をするといいでしょう。</p><h4>定数の決め方</h4><p>最大のコレクタ電流は2Aですから、常にコレクタ電流が\(2\mathrm{A}\)となるよう設計します。</p><p>2SC5200のコレクタ電流が\(2\mathrm{A}\)のとき、\(hfe\)は100ですからベース電流は\(20\mathrm{mA}\)です。また、制御電圧は\(5\mathrm{V}\)ですからベース抵抗は\(250\mathrm{Ω}\)、E24系列に合わせ\(240\mathrm{Ω}\)とします。</p><div class=images-side><img src=./image20.webp class=image-side>
<img src=./image21.webp class=image-side></div><p>これで回路は完成です。</p><h2 id=ダーリントン接続>ダーリントン接続</h2><img src=./image22.webp class=image-float-right><p>小さな電流で大きな電流を制御できるのがトランジスタの利点の一つです。しかし、大電流を許容できるトランジスタは\(hfe\)があまり大きくない傾向にあります。例えば、スイッチング回路などでは制御するマイコンの電流供給能力に限りがあることが多く、またアンプの最終段のエミッタ・フォロワでは前段のOPアンプから取り出す電流が大きいと信号に歪みが出る原因にもなります。そのような場合、スイッチング回路では前段にエミッタ・フォロワを配置するなどの対策もありますが、ダーリントン接続で複数のトランジスタを一つの\(hfe\)の大きなトランジスタとして利用し対策することもできます。</p><p>ダーリントン接続は非常に簡単なもので、下図のように一つ目のトランジスタのベースに二つ目のトランジスタのエミッタを接続し、またそれぞれのコレクタをまとめるだけです。</p><p>ダーリントン接続をした場合、先ほども解説したとおり一つのトランジスタとして見なせます。また\(hfe\)は一つ目のトランジスタの\(hfe\)と二つ目のトランジスタの\(hfe\)を乗算した値になります。そして、ベース－エミッタ電圧は\(1.2\mathrm{V}\)となります。（二つのB-E間電圧が加算されるため）</p><p>ダーリントン接続はどのトランジスタ回路にも応用ができます。試しに、スイッチング回路をダーリントントランジスタで改良してみましょう。</p><h3 id=設定条件>設定条件</h3><table><tr><td><p>最大コレクタ電流</p></td><td><p>\(5\mathrm{A}\)</p></td></tr><tr><td><p>電源電圧</p></td><td><p>\(15\mathrm{V}\)</p></td></tr><tr><td><p>制御電圧</p></td><td><p>\(5\mathrm{V}\)</p></td></tr><tr><td><p>制御電流</p></td><td><p>\(1\mathrm{mA}\)以下</p></td></tr><tr><td><p>使用するトランジスタ</p></td><td><p>Tr1:2SC1815,Tr2:2SC5200</p></td></tr></table><h4>定数の決め方</h4><p>まずは、最大コレクタ電流が\(10\mathrm{A}\)となりますから、\(Tr2\)のベース電流は約\(167\mathrm{mA}\)、また\(Tr2\)のベース電流すなわち\(Tr1\)のコレクタ電流ですから、\(Tr1\)のベース電流は\(0.25\mathrm{mA}\)となります。よって、制御電圧は\(5\mathrm{V}\)ですからベース抵抗は\(20\mathrm{kΩ}\)となります。これはE24系列にありますからこのままで大丈夫ですね。</p><p>最後に、結合コンデンサは\(470\mathrm{μF}\)とします。</p><div class=images-side><img src=./image23.webp class=image-side>
<img src=./image24.webp class=image-side></div><h2 id=トランジスタ入手の可否>トランジスタ入手の可否</h2><ul><li class=asterisk-1><p>2SC1815(2SA1015)：オリジナル入手可能、セカンドソース現行品</p></li><li class=asterisk-1><p>2SC945(2SA733)：オリジナル入手困難、セカンドソース現行品</p></li><li class=astersik-1><p>2SC3422(2SA1359)：入手可能</p></li><li class=asterisk-1><p>TTC004B(TTA004B)：現行品</p></li><li class=asterisk-1><p>2SC1061(2SA671)：オリジナル入手困難、セカンドソース現行品</p></li><li class=asterisk-1><p>2SD880(2SB834)：オリジナル入手困難、セカンドソース現行品</p></li><li class=asterisk-1><p>2SC5198(2SA1941)：現行品</p></li><li class=asterisk-1><p>2SC3519A(2SC1386A)：現行品</p></li><li class=asterisk-1><p>2SC5200(2SA1943)：現行品</p></li><li class=asterisk-1><p>2N3055：オリジナル入手困難、セカンドソース入手可能</p></li></ul></div><nav class=nextPrev><div class=next>次へ<a href=https://asanobuturi.github.io/document/2019/math/>φの累乗とフィボナッチ数列 ></a></div><div class=prev>前へ<a href=https://asanobuturi.github.io/document/2019/ufo/>自作クレーンゲームの考察 ></a></div></nav></div><nav id=sidebar><div id=sidemenu><div class=side-back><a href=../index.html>記事の一覧へもどる<i class="fas fa-sign-out-alt"></i></a></div><div class=side-next><a href=https://asanobuturi.github.io/document/2019/math/>φの累乗とフィボナッチ数列<i class="fas fa-angle-right"></i></a></div><div class=side-prev><a href=https://asanobuturi.github.io/document/2019/ufo/><i class="fas fa-angle-left"></i>自作クレーンゲームの考察</a></div></div><div id=indexblock><div class=indextitle>目次</div><ol class=indexcontents></li><li><a href=#%e3%81%af%e3%81%98%e3%82%81%e3%81%ab>はじめに</a></li><li><a href=#%e3%83%88%e3%83%a9%e3%83%b3%e3%82%b8%e3%82%b9%e3%82%bf%e3%81%ae%e3%83%91%e3%83%83%e3%82%b1%e3%83%bc%e3%82%b8%e8%b6%b3%e9%85%8d%e7%bd%ae>トランジスタのパッケージ、足配置</a></li><li><a href=#%e3%83%97%e3%83%a9%e3%82%b9%e3%83%81%e3%83%83%e3%82%af%e3%83%a2%e3%83%bc%e3%83%ab%e3%83%89>プラスチックモールド</a></li><li><a href=#%e3%83%a1%e3%82%bf%e3%83%abCAN%e3%83%91%e3%83%83%e3%82%b1%e3%83%bc%e3%82%b8>メタルCANパッケージ</a></li><li><a href=#%e4%bf%a1%e5%8f%b7%e3%82%92%e5%a2%97%e5%b9%85%e3%81%99%e3%82%8b%28%e9%9b%bb%e5%9c%a7%e7%b7%a8%29>信号を増幅する(電圧編)</a><ol><li><a href=#%e3%82%a8%e3%83%9f%e3%83%83%e3%82%bf%e6%8e%a5%e5%9c%b0%e5%a2%97%e5%b9%85%e5%9b%9e%e8%b7%af%28%e5%9f%ba%e6%9c%ac%29>エミッタ接地増幅回路(基本)</a></li></ol></li><li><a href=#Z%e8%bb%b8%28%e4%b8%8a%e4%b8%8b%e6%96%b9%e5%90%91%29>信号を増幅する(電流編)</a><ol><li><a href=#%e3%82%a8%e3%83%9f%e3%83%83%e3%82%bf%e3%83%bb%e3%83%95%e3%82%a9%e3%83%ad%e3%83%af%28%e5%9f%ba%e6%9c%ac%29>エミッタ・フォロワ(基本)</a></li><li><a href=#%e3%82%a8%e3%83%9f%e3%83%83%e3%82%bf%e3%83%bb%e3%83%95%e3%82%a9%e3%83%ad%e3%83%af%28%e3%83%97%e3%83%83%e3%82%b7%e3%83%a5%e3%83%97%e3%83%ab%29>エミッタ・フォロワ(プッシュプル)</a></li><li><a href=#%e3%82%a8%e3%83%9f%e3%83%83%e3%82%bf%e3%83%bb%e3%83%95%e3%82%a9%e3%83%ad%e3%83%af%28%e6%ad%a3%e8%b2%a0%e9%9b%bb%e6%ba%90%e3%83%bb%e3%83%97%e3%83%83%e3%82%b7%e3%83%a5%e3%83%97%e3%83%ab%29>エミッタ・フォロワ(正負電源・プッシュプル)</a></li></ol></li><li><a href=#%e3%83%88%e3%83%a9%e3%83%b3%e3%82%b8%e3%82%b9%e3%82%bf%e3%82%92%e3%82%b9%e3%82%a4%e3%83%83%e3%83%81%e3%81%ab%e8%a6%8b%e7%ab%8b%e3%81%a6%e3%82%8b>トランジスタをスイッチに見立てる</a><ol><li><a href=#%e3%82%b9%e3%82%a4%e3%83%83%e3%83%81%e3%83%b3%e3%82%b0%e5%9b%9e%e8%b7%af>スイッチング回路</a></li></ol></li><li><a href=#%e3%83%80%e3%83%bc%e3%83%aa%e3%83%b3%e3%83%88%e3%83%b3%e6%8e%a5%e7%b6%9a>ダーリントン接続</a><ol><li><a href=#%e8%a8%ad%e5%ae%9a%e6%9d%a1%e4%bb%b6>設定条件</a></li></ol></li><li><a href=#%e3%83%88%e3%83%a9%e3%83%b3%e3%82%b8%e3%82%b9%e3%82%bf%e5%85%a5%e6%89%8b%e3%81%ae%e5%8f%af%e5%90%a6>トランジスタ入手の可否</a></ol></div></nav></div><footer class=footer><p class=copyright>Copyright &copy; 2015 - 2022 Asano Physics Club, All Rights Reversed.</p></footer></main></body></html>